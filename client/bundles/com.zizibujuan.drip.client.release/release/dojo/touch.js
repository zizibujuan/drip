//>>built
define("dojo/touch","./_base/kernel,./aspect,./dom,./_base/lang,./on,./has,./mouse,./domReady,./_base/window".split(","),function(p,k,r,l,d,g,i,q,c){function e(a,c,b){return m&&b?function(a,c){return d(a,b,c)}:j?function(b,e){var f=d(b,c,e),g=d(b,a,function(a){(!h||(new Date).getTime()>h+1E3)&&e.call(this,a)});return{remove:function(){f.remove();g.remove()}}}:function(b,c){return d(b,a,c)}}var j=g("touch"),f=g("ios")&&5>g("ios"),m=navigator.msPointerEnabled,h,n,o,b;j&&!m&&(q(function(){b=c.body();
c.doc.addEventListener("touchstart",function(a){h=(new Date).getTime();var c=b;b=a.target;d.emit(c,"dojotouchout",{target:c,relatedTarget:b,bubbles:!0});d.emit(b,"dojotouchover",{target:b,relatedTarget:c,bubbles:!0})},!0);d(c.doc,"touchmove",function(a){h=(new Date).getTime();o=a;if(a=c.doc.elementFromPoint(a.pageX-(f?0:c.global.pageXOffset),a.pageY-(f?0:c.global.pageYOffset)))b!==a&&(d.emit(b,"dojotouchout",{target:b,relatedTarget:a,bubbles:!0}),d.emit(a,"dojotouchover",{target:a,relatedTarget:b,
bubbles:!0}),b=a),d.emit(a,"dojotouchmove",{target:a,bubbles:!0})});d(c.doc,"touchend",function(a){var b=c.doc.elementFromPoint(a.pageX-(f?0:c.global.pageXOffset),a.pageY-(f?0:c.global.pageYOffset))||c.body();d.emit(b,"dojotouchend",l.delegate(a,{target:b,bubbles:!0}))})}),n=function(a,b){return d(a,"dojotouchmove",function(a){b(l.delegate(o,{target:a.target,stopPropagation:function(){a.stopPropagation()}}))})});k={press:e("mousedown","touchstart","MSPointerDown"),move:e("mousemove",n,"MSPointerMove"),
release:e("mouseup","dojotouchend","MSPointerUp"),cancel:e(i.leave,"touchcancel",j?"MSPointerCancel":null),over:e("mouseover","dojotouchover","MSPointerOver"),out:e("mouseout","dojotouchout","MSPointerOut"),enter:i._eventHandler(e("mouseover","dojotouchover","MSPointerOver")),leave:i._eventHandler(e("mouseout","dojotouchout","MSPointerOut"))};return p.touch=k});