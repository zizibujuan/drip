//>>built
define("dojo/dom-construct",["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(exports,dojo,has,win,dom,attr){function _insertBefore(node,ref){var parent=ref.parentNode;parent&&parent.insertBefore(node,ref)}function _insertAfter(node,ref){var parent=ref.parentNode;parent&&(parent.lastChild==ref?parent.appendChild(node):parent.insertBefore(node,ref.nextSibling))}function _destroy(node,parent){node.firstChild&&_empty(node),parent&&parent.removeChild(node)}var tagWrap={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},reTag=/<\s*([\w\:]+)/,masterNode={},masterNum=0,masterName="__"+dojo._scopeName+"ToDomId";for(var param in tagWrap)if(tagWrap.hasOwnProperty(param)){var tw=tagWrap[param];tw.pre=param=="option"?'<select multiple="multiple">':"<"+tw.join("><")+">",tw.post="</"+tw.reverse().join("></")+">"}exports.toDom=function(frag,doc){doc=doc||win.doc;var masterId=doc[masterName];masterId||(doc[masterName]=masterId=++masterNum+"",masterNode[masterId]=doc.createElement("div")),frag+="";var match=frag.match(reTag),tag=match?match[1].toLowerCase():"",master=masterNode[masterId],wrap,i,fc,df;if(match&&tagWrap[tag]){wrap=tagWrap[tag],master.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i)master=master.firstChild}else master.innerHTML=frag;if(master.childNodes.length==1)return master.removeChild(master.firstChild);df=doc.createDocumentFragment();while(fc=master.firstChild)df.appendChild(fc);return df},exports.place=function(node,refNode,position){refNode=dom.byId(refNode),typeof node=="string"&&(node=/^\s*</.test(node)?exports.toDom(node,refNode.ownerDocument):dom.byId(node));if(typeof position=="number"){var cn=refNode.childNodes;!cn.length||cn.length<=position?refNode.appendChild(node):_insertBefore(node,cn[position<0?0:position])}else switch(position){case"before":_insertBefore(node,refNode);break;case"after":_insertAfter(node,refNode);break;case"replace":refNode.parentNode.replaceChild(node,refNode);break;case"only":exports.empty(refNode),refNode.appendChild(node);break;case"first":if(refNode.firstChild){_insertBefore(node,refNode.firstChild);break};default:refNode.appendChild(node)}return node},exports.create=function(tag,attrs,refNode,pos){var doc=win.doc;return refNode&&(refNode=dom.byId(refNode),doc=refNode.ownerDocument),typeof tag=="string"&&(tag=doc.createElement(tag)),attrs&&attr.set(tag,attrs),refNode&&exports.place(tag,refNode,pos),tag};var _empty=has("ie")?function(node){try{node.innerHTML=""}catch(e){for(var c;c=node.lastChild;)_destroy(c,node)}}:function(node){node.innerHTML=""};exports.empty=function(node){_empty(dom.byId(node))},exports.destroy=function(node){node=dom.byId(node);if(!node)return;_destroy(node,node.parentNode)}})