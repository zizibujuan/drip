//>>built
define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,require,has,array,config,lang,xhr,json,module){has.add("dojo-preload-i18n-Api",1),1;var thisModule=dojo.i18n={},nlsRe=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,getAvailableLocales=function(root,locale,bundlePath,bundleName){for(var result=[bundlePath+bundleName],localeParts=locale.split("-"),current="",i=0;i<localeParts.length;i++)current+=(current?"-":"")+localeParts[i],(!root||root[current])&&result.push(bundlePath+current+"/"+bundleName);return result},cache={},getBundleName=function(moduleName,bundleName,locale){return locale=locale?locale.toLowerCase():dojo.locale,moduleName=moduleName.replace(/\./g,"/"),bundleName=bundleName.replace(/\./g,"/"),/root/i.test(locale)?moduleName+"/nls/"+bundleName:moduleName+"/nls/"+locale+"/"+bundleName},getL10nName=dojo.getL10nName=function(moduleName,bundleName,locale){return moduleName=module.id+"!"+getBundleName(moduleName,bundleName,locale)},doLoad=function(require,bundlePathAndName,bundlePath,bundleName,locale,load){require([bundlePathAndName],function(root){var current=lang.clone(root.root),availableLocales=getAvailableLocales(!root._v1x&&root,locale,bundlePath,bundleName);require(availableLocales,function(){for(var i=1;i<availableLocales.length;i++)current=lang.mixin(lang.clone(current),arguments[i]);var target=bundlePathAndName+"/"+locale;cache[target]=current,load()})})},normalize=function(id,toAbsMid){return/^\./.test(id)?toAbsMid(id):id},getLocalesToLoad=function(targetLocale){var list=config.extraLocale||[];return list=lang.isArray(list)?list:[list],list.push(targetLocale),list},load=function(id,require,load){if(has("dojo-preload-i18n-Api")){var split=id.split("*"),preloadDemand=split[1]=="preload";preloadDemand&&(cache[id]||(cache[id]=1,preloadL10n(split[2],json.parse(split[3]),1,require)),load(1));if(preloadDemand||waitForPreloads(id,require,load))return}var match=nlsRe.exec(id),bundlePath=match[1]+"/",bundleName=match[5]||match[4],bundlePathAndName=bundlePath+bundleName,localeSpecified=match[5]&&match[4],targetLocale=localeSpecified||dojo.locale,loadTarget=bundlePathAndName+"/"+targetLocale,loadList=localeSpecified?[targetLocale]:getLocalesToLoad(targetLocale),remaining=loadList.length,finish=function(){--remaining||load(lang.delegate(cache[loadTarget]))};array.forEach(loadList,function(locale){var target=bundlePathAndName+"/"+locale;has("dojo-preload-i18n-Api")&&checkForLegacyModules(target),cache[target]?finish():doLoad(require,bundlePathAndName,bundlePath,bundleName,locale,finish)})};if(has("dojo-unit-tests"))var unitTests=thisModule.unitTests=[];if(has("dojo-preload-i18n-Api")||1)var normalizeLocale=thisModule.normalizeLocale=function(locale){var result=locale?locale.toLowerCase():dojo.locale;return result=="root"?"ROOT":result},isXd=function(mid,contextRequire){return!0},preloading=0,preloadWaitQueue=[],preloadL10n=thisModule._preloadLocalizations=function(bundlePrefix,localesGenerated,guaranteedAmdFormat,contextRequire){function doRequire(mid,callback){isXd(mid,contextRequire)||guaranteedAmdFormat?contextRequire([mid],callback):syncRequire([mid],callback,contextRequire)}function forEachLocale(locale,func){var parts=locale.split("-");while(parts.length){if(func(parts.join("-")))return;parts.pop()}func("ROOT")}function preload(locale){locale=normalizeLocale(locale),forEachLocale(locale,function(loc){if(array.indexOf(localesGenerated,loc)>=0){var mid=bundlePrefix.replace(/\./g,"/")+"_"+loc;return preloading++,doRequire(mid,function(rollup){for(var p in rollup)cache[require.toAbsMid(p)+"/"+loc]=rollup[p];--preloading;while(!preloading&&preloadWaitQueue.length)load.apply(null,preloadWaitQueue.shift())}),!0}return!1})}contextRequire=contextRequire||require,preload(),array.forEach(dojo.config.extraLocale,preload)},waitForPreloads=function(id,require,load){return preloading&&preloadWaitQueue.push([id,require,load]),preloading},checkForLegacyModules=function(){};var amdValue={},evalBundle=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),syncRequire=function(deps,callback,require){var results=[];array.forEach(deps,function(mid){function load(text){var result=evalBundle(text,checkForLegacyModules,mid,amdValue);result===amdValue?results.push(cache[url]=amdValue.result):(result instanceof Error&&(0,result={}),results.push(cache[url]=/nls\/[^\/]+\/[^\/]+$/.test(url)?result:{root:result,_v1x:1}))}var url=require.toUrl(mid+".js");if(cache[url])results.push(cache[url]);else{var bundle=require.syncLoadNls(mid);if(bundle)results.push(bundle);else if(!xhr)try{require.getText(url,!0,load)}catch(e){results.push(cache[url]={})}else xhr.get({url:url,sync:!0,load:load,error:function(){results.push(cache[url]={})}})}}),callback&&callback.apply(null,results)};return checkForLegacyModules=function(target){for(var result,names=target.split("/"),object=dojo.global[names[0]],i=1;object&&i<names.length-1;object=object[names[i++]]);return object&&(result=object[names[i]],result||(result=object[names[i].replace(/-/g,"_")]),result&&(cache[target]=result)),result},thisModule.getLocalization=function(moduleName,bundleName,locale){var result,l10nName=getBundleName(moduleName,bundleName,locale);return load(l10nName,isXd(l10nName,require)?require:function(deps,callback){syncRequire(deps,callback,require)},function(result_){result=result_}),result},has("dojo-unit-tests")&&unitTests.push(function(doh){doh.register("tests.i18n.unit",function(t){var check;check=evalBundle("{prop:1}",checkForLegacyModules,"nonsense",amdValue),t.is({prop:1},check),t.is(undefined,check[1]),check=evalBundle("({prop:1})",checkForLegacyModules,"nonsense",amdValue),t.is({prop:1},check),t.is(undefined,check[1]),check=evalBundle("{'prop-x':1}",checkForLegacyModules,"nonsense",amdValue),t.is({"prop-x":1},check),t.is(undefined,check[1]),check=evalBundle("({'prop-x':1})",checkForLegacyModules,"nonsense",amdValue),t.is({"prop-x":1},check),t.is(undefined,check[1]),check=evalBundle("define({'prop-x':1})",checkForLegacyModules,"nonsense",amdValue),t.is(amdValue,check),t.is({"prop-x":1},amdValue.result),check=evalBundle("define('some/module', {'prop-x':1})",checkForLegacyModules,"nonsense",amdValue),t.is(amdValue,check),t.is({"prop-x":1},amdValue.result),check=evalBundle("this is total nonsense and should throw an error",checkForLegacyModules,"nonsense",amdValue),t.is(check instanceof Error,!0)})}),lang.mixin(thisModule,{dynamic:!0,normalize:normalize,load:load,cache:cache,getL10nName:getL10nName})})