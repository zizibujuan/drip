//>>built
define("dojo/_base/window",["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:this.document||null,body:function(doc){return doc=doc||dojo.doc,doc.body||doc.getElementsByTagName("body")[0]},setContext:function(globalObject,globalDocument){dojo.global=ret.global=globalObject,dojo.doc=ret.doc=globalDocument},withGlobal:function(globalObject,callback,thisObject,cbArguments){var oldGlob=dojo.global;try{return dojo.global=ret.global=globalObject,ret.withDoc.call(null,globalObject.document,callback,thisObject,cbArguments)}finally{dojo.global=ret.global=oldGlob}},withDoc:function(documentObject,callback,thisObject,cbArguments){var oldDoc=ret.doc,oldQ=has("quirks"),oldIE=has("ie"),isIE,mode,pwin;try{return dojo.doc=ret.doc=documentObject,dojo.isQuirks=has.add("quirks",dojo.doc.compatMode=="BackCompat",!0,!0),has("ie")&&(pwin=documentObject.parentWindow)&&pwin.navigator&&(isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||undefined,mode=documentObject.documentMode,mode&&mode!=5&&Math.floor(isIE)!=mode&&(isIE=mode),dojo.isIE=has.add("ie",isIE,!0,!0)),thisObject&&typeof callback=="string"&&(callback=thisObject[callback]),callback.apply(thisObject,cbArguments||[])}finally{dojo.doc=ret.doc=oldDoc,dojo.isQuirks=has.add("quirks",oldQ,!0,!0),dojo.isIE=has.add("ie",oldIE,!0,!0)}}};return lang.mixin(dojo,ret),ret})