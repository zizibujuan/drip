//>>built
define("dojo/_base/loader",["./kernel","../has","require","module","../json","./lang","./array"],function(dojo,has,require,thisModule,json,lang,array){1;var makeErrorToken=function(id){return{src:thisModule.id,id:id}},slashName=function(name){return name.replace(/\./g,"/")},buildDetectRe=/\/\/>>built/,dojoRequireCallbacks=[],dojoRequireModuleStack=[],dojoRequirePlugin=function(mid,require,loaded){dojoRequireCallbacks.push(loaded),array.forEach(mid.split(","),function(mid){var module=getModule(mid,require.module);dojoRequireModuleStack.push(module),injectModule(module)}),checkDojoRequirePlugin()},checkDojoRequirePlugin=function(){var module,mid;for(mid in modules){module=modules[mid],module.noReqPluginCheck===undefined&&(module.noReqPluginCheck=/loadInit\!/.test(mid)||/require\!/.test(mid)?1:0);if(!module.executed&&!module.noReqPluginCheck&&module.injected==requested)return}guardCheckComplete(function(){var oldCallbacks=dojoRequireCallbacks;dojoRequireCallbacks=[],array.forEach(oldCallbacks,function(cb){cb(1)})})},dojoLoadInitPlugin=function(mid,require,loaded){require([mid],function(bundle){require(bundle.names,function(){for(var scopeText="",args=[],i=0;i<arguments.length;i++)scopeText+="var "+bundle.names[i]+"= arguments["+i+"]; ",args.push(arguments[i]);eval(scopeText);var callingModule=require.module,requireList=[],i18nDeps,syncLoaderApi={provide:function(moduleName){moduleName=slashName(moduleName);var providedModule=getModule(moduleName,callingModule);providedModule!==callingModule&&setArrived(providedModule)},require:function(moduleName,omitModuleCheck){moduleName=slashName(moduleName),omitModuleCheck&&(getModule(moduleName,callingModule).result=nonmodule),requireList.push(moduleName)},requireLocalization:function(moduleName,bundleName,locale){i18nDeps||(i18nDeps=["dojo/i18n"]),locale=(locale||dojo.locale).toLowerCase(),moduleName=slashName(moduleName)+"/nls/"+(/root/i.test(locale)?"":locale+"/")+slashName(bundleName),getModule(moduleName,callingModule).isXd&&i18nDeps.push("dojo/i18n!"+moduleName)},loadInit:function(f){f()}},hold={},p;try{for(p in syncLoaderApi)hold[p]=dojo[p],dojo[p]=syncLoaderApi[p];bundle.def.apply(null,args)}catch(e){signal("error",[makeErrorToken("failedDojoLoadInit"),e])}finally{for(p in syncLoaderApi)dojo[p]=hold[p]}i18nDeps&&(requireList=requireList.concat(i18nDeps)),requireList.length?dojoRequirePlugin(requireList.join(","),require,loaded):loaded()})})},extractApplication=function(text,startSearch,startApplication){var parenRe=/\(|\)/g,matchCount=1,match;parenRe.lastIndex=startSearch;while(match=parenRe.exec(text)){match[0]==")"?matchCount-=1:matchCount+=1;if(matchCount==0)break}if(matchCount!=0)throw"unmatched paren around character "+parenRe.lastIndex+" in: "+text;return[dojo.trim(text.substring(startApplication,parenRe.lastIndex))+";\n",parenRe.lastIndex]},removeCommentRe=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,syncLoaderApiRe=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,amdLoaderApiRe=/(^|\s)(require|define)\s*\(/m,extractLegacyApiApplications=function(text,noCommentText){var match,startSearch,startApplication,application,loadInitApplications=[],otherApplications=[],allApplications=[];noCommentText=noCommentText||text.replace(removeCommentRe,function(match){return syncLoaderApiRe.lastIndex=amdLoaderApiRe.lastIndex=0,syncLoaderApiRe.test(match)||amdLoaderApiRe.test(match)?"":match});while(match=syncLoaderApiRe.exec(noCommentText))startSearch=syncLoaderApiRe.lastIndex,startApplication=startSearch-match[0].length,application=extractApplication(noCommentText,startSearch,startApplication),match[2]=="loadInit"?loadInitApplications.push(application[0]):otherApplications.push(application[0]),syncLoaderApiRe.lastIndex=application[1];return allApplications=loadInitApplications.concat(otherApplications),allApplications.length||!amdLoaderApiRe.test(noCommentText)?[text.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 && dojo.loadInit("),allApplications.join(""),allApplications]:0},transformToAmd=function(module,text){var extractResult,id,names=[],namesAsStrings=[];if(buildDetectRe.test(text)||!(extractResult=extractLegacyApiApplications(text)))return 0;id=module.mid+"-*loadInit";for(var p in getModule("dojo",module).result.scopeMap)names.push(p),namesAsStrings.push('"'+p+'"');return"// xdomain rewrite of "+module.mid+"\n"+"define('"+id+"',{\n"+"	names:"+json.stringify(names)+",\n"+"	def:function("+names.join(",")+"){"+extractResult[1]+"}"+"});\n\n"+"define("+json.stringify(names.concat(["dojo/loadInit!"+id]))+", function("+names.join(",")+"){\n"+extractResult[0]+"});"},loaderVars=require.initSyncLoader(dojoRequirePlugin,checkDojoRequirePlugin,transformToAmd),sync=loaderVars.sync,requested=loaderVars.requested,arrived=loaderVars.arrived,nonmodule=loaderVars.nonmodule,executing=loaderVars.executing,executed=loaderVars.executed,syncExecStack=loaderVars.syncExecStack,modules=loaderVars.modules,execQ=loaderVars.execQ,getModule=loaderVars.getModule,injectModule=loaderVars.injectModule,setArrived=loaderVars.setArrived,signal=loaderVars.signal,finishExec=loaderVars.finishExec,execModule=loaderVars.execModule,getLegacyMode=loaderVars.getLegacyMode,guardCheckComplete=loaderVars.guardCheckComplete;return dojoRequirePlugin=loaderVars.dojoRequirePlugin,dojo.provide=function(mid){var executingModule=syncExecStack[0],module=lang.mixin(getModule(slashName(mid),require.module),{executed:executing,result:lang.getObject(mid,!0)});return setArrived(module),executingModule&&(executingModule.provides||(executingModule.provides=[])).push(function(){module.result=lang.getObject(mid),delete module.provides,module.executed!==executed&&finishExec(module)}),module.result},has.add("config-publishRequireResult",1,0,0),dojo.require=function(moduleName,omitModuleCheck){function doRequire(mid,omitModuleCheck){var module=getModule(slashName(mid),require.module);if(syncExecStack.length&&syncExecStack[0].finish)return syncExecStack[0].finish.push(mid),undefined;if(module.executed)return module.result;omitModuleCheck&&(module.result=nonmodule);var currentMode=getLegacyMode();return injectModule(module),currentMode=getLegacyMode(),module.executed!==executed&&module.injected===arrived&&loaderVars.guardCheckComplete(function(){execModule(module)}),module.executed?module.result:(currentMode==sync?module.cjs?execQ.unshift(module):syncExecStack.length&&(syncExecStack[0].finish=[mid]):execQ.push(module),undefined)}var result=doRequire(moduleName,omitModuleCheck);return has("config-publishRequireResult")&&!lang.exists(moduleName)&&result!==undefined&&lang.setObject(moduleName,result),result},dojo.loadInit=function(f){f()},dojo.registerModulePath=function(moduleName,prefix){var paths={};paths[moduleName.replace(/\./g,"/")]=prefix,require({paths:paths})},dojo.platformRequire=function(modMap){var result=(modMap.common||[]).concat(modMap[dojo._name]||modMap["default"]||[]),temp;while(result.length)lang.isArray(temp=result.shift())?dojo.require.apply(dojo,temp):dojo.require(temp)},dojo.requireIf=dojo.requireAfterIf=function(condition,moduleName,omitModuleCheck){condition&&dojo.require(moduleName,omitModuleCheck)},dojo.requireLocalization=function(moduleName,bundleName,locale){require(["../i18n"],function(i18n){i18n.getLocalization(moduleName,bundleName,locale)})},{extractLegacyApiApplications:extractLegacyApiApplications,require:dojoRequirePlugin,loadInit:dojoLoadInitPlugin}})