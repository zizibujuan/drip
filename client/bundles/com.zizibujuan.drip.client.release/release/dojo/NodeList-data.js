//>>built
define("dojo/NodeList-data",["./_base/kernel","./query","./_base/lang","./_base/array","./dom-attr"],function(dojo,query,lang,array,attr){var NodeList=query.NodeList,dataCache={},x=0,dataattr="data-dojo-dataid",dopid=function(node){var pid=attr.get(node,dataattr);return pid||(pid="pid"+x++,attr.set(node,dataattr,pid)),pid},dodata=dojo._nodeData=function(node,key,value){var pid=dopid(node),r;return dataCache[pid]||(dataCache[pid]={}),arguments.length==1&&(r=dataCache[pid]),typeof key=="string"?arguments.length>2?dataCache[pid][key]=value:r=dataCache[pid][key]:r=lang.mixin(dataCache[pid],key),r},removeData=dojo._removeNodeData=function(node,key){var pid=dopid(node);dataCache[pid]&&(key?delete dataCache[pid][key]:delete dataCache[pid])};return NodeList._gcNodeData=dojo._gcNodeData=function(){var livePids=query("["+dataattr+"]").map(dopid);for(var i in dataCache)array.indexOf(livePids,i)<0&&delete dataCache[i]},lang.extend(NodeList,{data:NodeList._adaptWithCondition(dodata,function(a){return a.length===0||a.length==1&&typeof a[0]=="string"}),removeData:NodeList._adaptAsForEach(removeData)}),NodeList})