//>>built
define("dijit/typematic","dojo/_base/array,dojo/_base/connect,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/sniff,./main".split(","),function(n,o,r,e,k,p,q){var c=q.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(e.hitch(this,
"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,a,c,l,f,g,h,d){if(f!=this._obj){this.stop();this._initialDelay=h||500;this._subsequentDelay=g||0.9;this._minDelay=d||10;this._obj=f;this._node=c;this._count=this._currentTimeout=-1;this._callback=e.hitch(a,l);this._evt={faux:!0};for(var i in b)"layerX"!=i&&"layerY"!=i&&(a=b[i],"function"!=typeof a&&"undefined"!=typeof a&&(this._evt[i]=a));this._fireEventAndReload()}},stop:function(){if(this._timer)clearTimeout(this._timer),this._timer=
null;if(this._obj)this._callback(-1,this._node,this._evt),this._obj=null},addKeyListener:function(b,a,m,l,f,g,h){var d="keyCode"in a?"keyCode":"charCode"in a?"charCode":"charOrCode",i=[k(b,"keyCode"in a?"keydown":"charCode"in a?"keypress":o._keypress,e.hitch(this,function(j){j[d]==a[d]&&(void 0===a.ctrlKey||a.ctrlKey==j.ctrlKey)&&(void 0===a.altKey||a.altKey==j.altKey)&&(void 0===a.metaKey||a.metaKey==(j.metaKey||!1))&&(void 0===a.shiftKey||a.shiftKey==j.shiftKey)?(j.stopPropagation(),j.preventDefault(),
c.trigger(j,m,b,l,a,f,g,h)):c._obj==a&&c.stop()})),k(b,"keyup",e.hitch(this,function(){c._obj==a&&c.stop()}))];return{remove:function(){n.forEach(i,function(a){a.remove()})}}},addMouseListener:function(b,a,m,l,f,g){var h=[k(b,"mousedown",e.hitch(this,function(d){d.preventDefault();c.trigger(d,a,b,m,b,l,f,g)})),k(b,"mouseup",e.hitch(this,function(a){this._obj&&a.preventDefault();c.stop()})),k(b,"mouseout",e.hitch(this,function(a){this._obj&&a.preventDefault();c.stop()})),k(b,"dblclick",e.hitch(this,
function(d){d.preventDefault();9>p("ie")&&(c.trigger(d,a,b,m,b,l,f,g),setTimeout(e.hitch(this,c.stop),50))}))];return{remove:function(){n.forEach(h,function(a){a.remove()})}}},addListener:function(b,a,c,e,f,g,h,d){var i=[this.addKeyListener(a,c,e,f,g,h,d),this.addMouseListener(b,e,f,g,h,d)];return{remove:function(){n.forEach(i,function(a){a.remove()})}}}};return c});