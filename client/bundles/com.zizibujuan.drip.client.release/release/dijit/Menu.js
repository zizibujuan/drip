//>>built
define("dijit/Menu","require,dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),function(q,k,r,l,i,m,o,s,p,j,h,f,t,n,u,v){h("dijit-legacy-requires")&&v(0,function(){q(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return r("dijit.Menu",u,{constructor:function(){this._bindings=[]},targetNodeIds:[],
selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return t.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&f.doc.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&
f.doc.frames[a.name]&&f.doc.frames[a.name].document||null},bindDomNode:function(a){var a=l.byId(a,this.ownerDocument),d;if("iframe"==a.tagName.toLowerCase()){var c=a;d=this._iframeContentWindow(c);d=f.body(d.document)}else d=a==f.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var b={node:a,iframe:c};i.set(a,"_dijitMenu"+this.id,this._bindings.push(b));var e=p.hitch(this,function(a){var b=this.selector,d=b?function(a){return j.selector(b,a)}:function(a){return a},e=this;return[j(a,d(this.leftClickToOpen?
"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();e._scheduleOpen(this,c,{x:a.pageX,y:a.pageY})}),j(a,d("keydown"),function(a){a.shiftKey&&a.keyCode==s.F10&&(a.stopPropagation(),a.preventDefault(),e._scheduleOpen(this,c))})]});b.connects=d?e(d):[];if(c)b.onloadHandler=p.hitch(this,function(){var a=this._iframeContentWindow(c),a=f.body(a.document);b.connects=e(a)}),c.addEventListener?c.addEventListener("load",b.onloadHandler,!1):c.attachEvent("onload",b.onloadHandler)},unBindDomNode:function(a){var d;
try{d=l.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(d&&i.has(d,a)){for(var b=i.get(d,a)-1,e=this._bindings[b],g;g=e.connects.pop();)g.remove();(g=e.iframe)&&(g.removeEventListener?g.removeEventListener("load",e.onloadHandler,!1):g.detachEvent("onload",e.onloadHandler));i.remove(d,a);delete this._bindings[b]}},_scheduleOpen:function(a,d,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:d,coords:c})},1)},_openMyself:function(a){function d(){j.refocus&&
k&&k.focus();n.close(j)}var c=a.target,b=a.iframe,a=a.coords;this.currentTarget=c;if(a){if(b){var c=m.position(b,!0),e=this._iframeContentWindow(b),e=m.docScroll(e.document),g=o.getComputedStyle(b),f=o.toPixelValue,i=(h("ie")&&h("quirks")?0:f(b,g.paddingLeft))+(h("ie")&&h("quirks")?f(b,g.borderLeftWidth):0),b=(h("ie")&&h("quirks")?0:f(b,g.paddingTop))+(h("ie")&&h("quirks")?f(b,g.borderTopWidth):0);a.x+=c.x+i-e.x;a.y+=c.y+b-e.y}}else a=m.position(c,!0),a.x+=10,a.y+=10;var j=this,b=this._focusManager.get("prevNode"),
c=this._focusManager.get("curNode"),k=!c||l.isDescendant(c,this.domNode)?b:c;n.open({popup:this,x:a.x,y:a.y,onExecute:d,onCancel:d,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);n.close(this)}},destroy:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})});