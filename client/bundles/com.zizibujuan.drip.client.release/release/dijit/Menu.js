//>>built
define("dijit/Menu","require,dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-geometry,dojo/dom-style,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window,dojo/window,./popup,./DropDownMenu,dojo/ready".split(","),function(q,j,r,l,g,m,o,s,p,k,h,i,t,n,u,v){h("dijit-legacy-requires")&&v(0,function(){q(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return r("dijit.Menu",u,{constructor:function(){this._bindings=[]},targetNodeIds:[],
selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):j.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return t.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&
document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){var a=l.byId(a,this.ownerDocument),d;if("iframe"==a.tagName.toLowerCase()){var c=a;d=this._iframeContentWindow(c);d=i.body(d.document)}else d=a==i.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var b={node:a,iframe:c};g.set(a,"_dijitMenu"+this.id,this._bindings.push(b));var e=p.hitch(this,function(a){var b=this.selector,d=b?function(a){return k.selector(b,a)}:function(a){return a},e=this;return[k(a,
d(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();e._scheduleOpen(this,c,{x:a.pageX,y:a.pageY})}),k(a,d("keydown"),function(a){a.shiftKey&&a.keyCode==s.F10&&(a.stopPropagation(),a.preventDefault(),e._scheduleOpen(this,c))})]});b.connects=d?e(d):[];if(c)b.onloadHandler=p.hitch(this,function(){var a=this._iframeContentWindow(c),a=i.body(a.document);b.connects=e(a)}),c.addEventListener?c.addEventListener("load",b.onloadHandler,!1):c.attachEvent("onload",
b.onloadHandler)},unBindDomNode:function(a){var d;try{d=l.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(d&&g.has(d,a)){for(var b=g.get(d,a)-1,e=this._bindings[b],f;f=e.connects.pop();)f.remove();(f=e.iframe)&&(f.removeEventListener?f.removeEventListener("load",e.onloadHandler,!1):f.detachEvent("onload",e.onloadHandler));g.remove(d,a);delete this._bindings[b]}},_scheduleOpen:function(a,d,c){if(!this._openTimer)this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,
iframe:d,coords:c})},1)},_openMyself:function(a){function d(){i.refocus&&j&&j.focus();n.close(i)}var c=a.target,b=a.iframe,a=a.coords;this.currentTarget=c;if(a){if(b){var c=m.position(b,!0),e=this._iframeContentWindow(b),e=m.docScroll(e.document),f=o.getComputedStyle(b),g=o.toPixelValue,k=(h("ie")&&h("quirks")?0:g(b,f.paddingLeft))+(h("ie")&&h("quirks")?g(b,f.borderLeftWidth):0),b=(h("ie")&&h("quirks")?0:g(b,f.paddingTop))+(h("ie")&&h("quirks")?g(b,f.borderTopWidth):0);a.x+=c.x+k-e.x;a.y+=c.y+b-e.y}}else a=
m.position(c,!0),a.x+=10,a.y+=10;var i=this,b=this._focusManager.get("prevNode"),c=this._focusManager.get("curNode"),j=!c||l.isDescendant(c,this.domNode)?b:c;n.open({popup:this,x:a.x,y:a.y,onExecute:d,onCancel:d,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);n.close(this)}},destroy:function(){j.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})});