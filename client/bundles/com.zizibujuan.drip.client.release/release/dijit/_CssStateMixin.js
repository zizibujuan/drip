//>>built
define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/_base/window","./registry"],function(array,declare,dom,domClass,has,lang,on,domReady,win,registry){var CssStateMixin=declare("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments),array.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"))},this);for(var ap in this.cssStateNodes||{})this._trackMouseState(this[ap],this.cssStateNodes[ap]);this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},_cssMouseEvent:function(event){if(!this.disabled)switch(event.type){case"mouseover":this._set("hovering",!0),this._set("active",this._mouseDown);break;case"mouseout":this._set("hovering",!1),this._set("active",!1);break;case"mousedown":case"touchstart":this._set("active",!0);break;case"mouseup":case"touchend":this._set("active",!1)}},_setStateClass:function(){function multiply(modifier){newStateClasses=newStateClasses.concat(array.map(newStateClasses,function(c){return c+modifier}),"dijit"+modifier)}var newStateClasses=this.baseClass.split(" ");this.isLeftToRight()||multiply("Rtl");var checkedState=this.checked=="mixed"?"Mixed":this.checked?"Checked":"";this.checked&&multiply(checkedState),this.state&&multiply(this.state),this.selected&&multiply("Selected"),this._opened&&multiply("Opened"),this.disabled?multiply("Disabled"):this.readOnly?multiply("ReadOnly"):this.active?multiply("Active"):this.hovering&&multiply("Hover"),this.focused&&multiply("Focused");var tn=this.stateNode||this.domNode,classHash={};array.forEach(tn.className.split(" "),function(c){classHash[c]=!0}),"_stateClasses"in this&&array.forEach(this._stateClasses,function(c){delete classHash[c]}),array.forEach(newStateClasses,function(c){classHash[c]=!0});var newClasses=[];for(var c in classHash)newClasses.push(c);tn.className=newClasses.join(" "),this._stateClasses=newStateClasses},_subnodeCssMouseEvent:function(node,clazz,evt){function hover(isHovering){domClass.toggle(node,clazz+"Hover",isHovering)}function active(isActive){domClass.toggle(node,clazz+"Active",isActive)}function focused(isFocused){domClass.toggle(node,clazz+"Focused",isFocused)}if(this.disabled||this.readOnly)return;switch(evt.type){case"mouseover":hover(!0);break;case"mouseout":hover(!1),active(!1);break;case"mousedown":case"touchstart":active(!0);break;case"mouseup":case"touchend":active(!1);break;case"focus":case"focusin":focused(!0);break;case"blur":case"focusout":focused(!1)}},_trackMouseState:function(node,clazz){node._cssState=clazz}});return domReady(function(){function handler(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target))for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode)if(node._cssState){var widget=registry.getEnclosingWidget(node);widget&&(node==widget.domNode?widget._cssMouseEvent(evt):widget._subnodeCssMouseEvent(node,node._cssState,evt))}}function ieHandler(evt){evt.target=evt.srcElement,handler(evt)}var body=win.body(),types=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);array.forEach(types,function(type){body.addEventListener?body.addEventListener(type,handler,!0):body.attachEvent("on"+type,ieHandler)}),on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var widget=registry.getEnclosingWidget(node);widget._subnodeCssMouseEvent(node,node._cssState,evt)}})}),CssStateMixin})