//>>built
define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(declare,domAttr,keys,lang,on,has,_FormWidgetMixin){return declare("dijit.form._FormValueMixin",_FormWidgetMixin,{readOnly:!1,_setReadOnlyAttr:function(value){domAttr.set(this.focusNode,"readOnly",value),this._set("readOnly",value)},postCreate:function(){this.inherited(arguments),has("ie")&&this.own(on(this.focusNode||this.domNode,"keydown",lang.hitch(this,"_onKeyDown"))),this._resetValue===undefined&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(newValue,priorityChange){this._handleOnChange(newValue,priorityChange)},_handleOnChange:function(newValue,priorityChange){this._set("value",newValue),this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey))if(has("ie")<9||has("ie")&&has("quirks")){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE,te.shiftKey=e.shiftKey,node.fireEvent("onkeypress",te)}}})})