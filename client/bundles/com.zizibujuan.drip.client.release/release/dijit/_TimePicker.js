//>>built
require({cache:{"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n		><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n		><div class="dijitArrowButtonChar">&#9650;</div></div\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\n		><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\n		><div class="dijitArrowButtonChar">&#9660;</div></div\n></div>\n'}}),define("dijit/_TimePicker",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./typematic","./_Widget","./_TemplatedMixin","./form/_FormValueWidget","dojo/text!./templates/TimePicker.html"],function(array,ddate,locale,stamp,declare,domClass,domConstruct,kernel,keys,lang,has,query,mouse,on,typematic,_Widget,_TemplatedMixin,_FormValueWidget,template){var TimePicker=declare("dijit._TimePicker",[_Widget,_TemplatedMixin],{templateString:template,baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:stamp.toISOString,setValue:function(value){kernel.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",value)},_setValueAttr:function(date){this._set("value",date),this._showText()},_setFilterStringAttr:function(val){this._set("filterString",val),this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(start,maxNum,before,lastNode){var nodes=[],lastValue=lastNode?lastNode.date:this._refDate,n,i=start,max=this._maxIncrement+Math.abs(i),chk=before?-1:1,dec=before?1:0,inc=1-dec;do{i-=dec,n=this._createOption(i);if(n){if(before&&n.date>lastValue||!before&&n.date<lastValue)break;nodes[before?"unshift":"push"](n),lastValue=n.date}i+=inc}while(nodes.length<maxNum&&i*chk<max);return nodes},_showText:function(){var fromIso=stamp.fromISOString;this.timeMenu.innerHTML="",this._clickableIncrementDate=fromIso(this.clickableIncrement),this._visibleIncrementDate=fromIso(this.visibleIncrement),this._visibleRangeDate=fromIso(this.visibleRange);var sinceMidnight=function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds()},clickableIncrementSeconds=sinceMidnight(this._clickableIncrementDate),visibleIncrementSeconds=sinceMidnight(this._visibleIncrementDate),visibleRangeSeconds=sinceMidnight(this._visibleRangeDate),time=(this.value||this.currentFocus).getTime();this._refDate=new Date(time-time%(clickableIncrementSeconds*1e3)),this._refDate.setFullYear(1970,0,1),this._clickableIncrement=1,this._totalIncrements=visibleRangeSeconds/clickableIncrementSeconds,this._visibleIncrement=visibleIncrementSeconds/clickableIncrementSeconds,this._maxIncrement=86400/clickableIncrementSeconds;var count=Math.min(this._totalIncrements,10),after=this._getFilteredNodes(0,(count>>1)+1,!1),moreAfter=[],estBeforeLength=count-after.length,before=this._getFilteredNodes(0,estBeforeLength,!0,after[0]);before.length<estBeforeLength&&after.length>0&&(moreAfter=this._getFilteredNodes(after[after.length-1].idx+1,estBeforeLength-before.length,!1,after[after.length-1])),array.forEach(before.concat(after,moreAfter),function(n){this.timeMenu.appendChild(n)},this),!before.length&&!after.length&&!moreAfter.length&&this.filterString&&(this.filterString="",this._showText())},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments),this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(constraints){lang.mixin(this,constraints),constraints.locale||(constraints.locale=this.lang)},postCreate:function(){this.inherited(arguments),this.own(on(this.timeMenu,mouse.wheel,lang.hitch(this,"_mouseWheeled")),typematic.addMouseListener(this.upArrow,this,"_onArrowUp",33,250),typematic.addMouseListener(this.downArrow,this,"_onArrowDown",33,250))},_buttonMouse:function(e){domClass.toggle(e.currentTarget,e.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover",e.type=="mouseenter"||e.type=="mouseover")},_createOption:function(index){var date=new Date(this._refDate),incrementDate=this._clickableIncrementDate;date.setTime(date.getTime()+incrementDate.getHours()*index*36e5+incrementDate.getMinutes()*index*6e4+incrementDate.getSeconds()*index*1e3),this.constraints.selector=="time"&&date.setFullYear(1970,0,1);var dateString=locale.format(date,this.constraints);if(this.filterString&&dateString.toLowerCase().indexOf(this.filterString)!==0)return null;var div=this.ownerDocument.createElement("div");return div.className=this.baseClass+"Item",div.date=date,div.idx=index,domConstruct.create("div",{"class":this.baseClass+"ItemInner",innerHTML:dateString},div),index%this._visibleIncrement<1&&index%this._visibleIncrement>-1?domClass.add(div,this.baseClass+"Marker"):index%this._clickableIncrement||domClass.add(div,this.baseClass+"Tick"),this.isDisabledDate(date)&&domClass.add(div,this.baseClass+"ItemDisabled"),this.value&&!ddate.compare(this.value,date,this.constraints.selector)&&(div.selected=!0,domClass.add(div,this.baseClass+"ItemSelected"),domClass.contains(div,this.baseClass+"Marker")?domClass.add(div,this.baseClass+"MarkerSelected"):domClass.add(div,this.baseClass+"TickSelected"),this._highlightOption(div,!0)),div},_onOptionSelected:function(tgt){var tdate=tgt.target.date||tgt.target.parentNode.date;if(!tdate||this.isDisabledDate(tdate))return;this._highlighted_option=null,this.set("value",tdate),this.onChange(tdate)},onChange:function(){},_highlightOption:function(node,highlight){if(!node)return;if(highlight)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=node;else{if(this._highlighted_option!==node)return;this._highlighted_option=null}domClass.toggle(node,this.baseClass+"ItemHover",highlight),domClass.contains(node,this.baseClass+"Marker")?domClass.toggle(node,this.baseClass+"MarkerHover",highlight):domClass.toggle(node,this.baseClass+"TickHover",highlight)},onmouseover:function(e){this._keyboardSelected=null;var tgr=e.target.parentNode===this.timeMenu?e.target:e.target.parentNode;if(!domClass.contains(tgr,this.baseClass+"Item"))return;this._highlightOption(tgr,!0)},onmouseout:function(e){this._keyboardSelected=null;var tgr=e.target.parentNode===this.timeMenu?e.target:e.target.parentNode;this._highlightOption(tgr,!1)},_mouseWheeled:function(e){this._keyboardSelected=null,e.stopPropagation(),e.preventDefault(),this[e.wheelDelta>0?"_onArrowUp":"_onArrowDown"]()},_onArrowUp:function(count){if(count===-1){domClass.remove(this.upArrow,"dijitUpArrowActive");return}count===0&&domClass.add(this.upArrow,"dijitUpArrowActive");if(!this.timeMenu.childNodes.length)return;var index=this.timeMenu.childNodes[0].idx,divs=this._getFilteredNodes(index,1,!0,this.timeMenu.childNodes[0]);divs.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),this.timeMenu.insertBefore(divs[0],this.timeMenu.childNodes[0]))},_onArrowDown:function(count){if(count===-1){domClass.remove(this.downArrow,"dijitDownArrowActive");return}count===0&&domClass.add(this.downArrow,"dijitDownArrowActive");if(!this.timeMenu.childNodes.length)return;var index=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].idx+1,divs=this._getFilteredNodes(index,1,!1,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);divs.length&&(this.timeMenu.removeChild(this.timeMenu.childNodes[0]),this.timeMenu.appendChild(divs[0]))},handleKey:function(e){if(e.keyCode==keys.DOWN_ARROW||e.keyCode==keys.UP_ARROW){e.stopPropagation(),e.preventDefault(),this._highlighted_option&&!this._highlighted_option.parentNode&&(this._highlighted_option=null);var timeMenu=this.timeMenu,tgt=this._highlighted_option||query("."+this.baseClass+"ItemSelected",timeMenu)[0];return tgt?timeMenu.childNodes.length&&(e.keyCode==keys.DOWN_ARROW&&!tgt.nextSibling?this._onArrowDown():e.keyCode==keys.UP_ARROW&&!tgt.previousSibling&&this._onArrowUp(),e.keyCode==keys.DOWN_ARROW?tgt=tgt.nextSibling:tgt=tgt.previousSibling):tgt=timeMenu.childNodes[0],this._highlightOption(tgt,!0),this._keyboardSelected=tgt,!1}return e.keyCode==keys.ENTER||e.keyCode===keys.TAB?!this._keyboardSelected&&e.keyCode===keys.TAB?!0:(this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option}),e.keyCode===keys.TAB):undefined}});return TimePicker})