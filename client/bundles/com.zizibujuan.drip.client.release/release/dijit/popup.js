//>>built
define("dijit/popup","dojo/_base/array,dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,./place,./BackgroundIframe,./main".split(","),function(o,p,i,q,r,k,s,l,t,m,j,u,n,v,w){function x(){this._popupWrapper&&(k.destroy(this._popupWrapper),delete this._popupWrapper)}i=i(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var c=a._popupWrapper,b=a.domNode;if(!c)c=k.create("div",{"class":"dijitPopup",
style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),c.appendChild(b),b=b.style,b.display="",b.visibility="",b.position="",b.top="0px",a._popupWrapper=c,p.after(a,"destroy",x,!0);return c},moveOffScreen:function(a){a=this._createWrapper(a);l.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);l.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,c=a.length-1;0<c&&a[c].parent===
a[c-1].widget;c--);return a[c]},open:function(a){for(var c=this._stack,b=a.popup,d=a.orient||["below","below-alt","above","above-alt"],e=a.parent?a.parent.isLeftToRight():s.isBodyLtr(b.ownerDocument),g=a.around,h=a.around&&a.around.id?a.around.id+"_dropdown":"popup_"+this._idGen++;c.length&&(!a.parent||!q.isDescendant(a.parent.domNode,c[c.length-1].widget.domNode));)this.close(c[c.length-1].widget);var f=this._createWrapper(b);r.set(f,{id:h,style:{zIndex:this._beginZIndex+c.length},"class":"dijitPopup "+
(b.baseClass||b["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:a.parent?a.parent.id:""});if(t("config-bgIframe")&&!b.bgIframe)b.bgIframe=new v(f);h=b.orient?j.hitch(b,"orient"):null;d=g?n.around(f,g,d,e,h):n.at(f,a,"R"==d?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding,h);f.style.display="";f.style.visibility="visible";b.domNode.style.visibility="visible";e=[];e.push(u(f,"keydown",j.hitch(this,function(b){if(b.keyCode==m.ESCAPE&&a.onCancel)b.stopPropagation(),b.preventDefault(),a.onCancel();
else if(b.keyCode==m.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));b.onCancel&&a.onCancel&&e.push(b.on("cancel",a.onCancel));e.push(b.on(b.onExecute?"execute":"change",j.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));c.push({widget:b,parent:a.parent,onExecute:a.onExecute,onCancel:a.onCancel,onClose:a.onClose,handlers:e});if(b.onOpen)b.onOpen(d);return d},close:function(a){for(var c=this._stack;a&&o.some(c,function(b){return b.widget==
a})||!a&&c.length;){var b=c.pop(),d=b.widget,e=b.onClose;if(d.onClose)d.onClose();for(var g;g=b.handlers.pop();)g.remove();d&&d.domNode&&this.hide(d);e&&e()}}});return w.popup=new i});