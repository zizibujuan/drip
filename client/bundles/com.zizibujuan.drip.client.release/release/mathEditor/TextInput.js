//>>built
define("mathEditor/TextInput","dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-construct dojo/dom-class dojo/has dojo/sniff dojo/on dojo/keys".split(" "),function(l,c,g,m,n,k,h,e,f){return l("mathEditor.TextInput",null,{parentNode:null,host:null,textarea:null,_inComposition:!1,constructor:function(p){c.mixin(this,p);f.EQUAL=h("chrome")||h("ie")?187:61;var b=this.textarea=m.create("textarea",{style:{position:"absolute"}},this.parentNode),d=this.host;n.add(b,"drip_text_input");b.wrap="off";
b.autocorrect="off";b.autocapitalize="off";b.spellcheck=!1;e(b,"keydown",c.hitch(this,function(a){a.keyCode===f.LEFT_ARROW?d.navigateLeft():a.keyCode===f.RIGHT_ARROW?d.navigateRight():a.keyCode===f.UP_ARROW?d.navigateUp():a.keyCode===f.DOWN_ARROW?d.navigateDown():a.keyCode===f.BACKSPACE?d.removeLeft():a.keyCode===f.DELETE?d.removeRight():a.altKey&&191===a.keyCode||(a.altKey&&a.keyCode===f.EQUAL?(d.switchInputMode(),g.stop(a)):a.keyCode===f.ENTER?(d.inputEnter(a),g.stop(a)):a.keyCode==f.TAB&&(d.inputTab(),
g.stop(a)))}));e(b,"blur",c.hitch(this,function(a){d.onBlur()}));e(b,"focus",c.hitch(this,function(a){d.onFocus()}));h("chrome")?e(b,"textInput",c.hitch(this,function(a){d.onTextInput(a.data)})):9>=k("ie")?require(["mathEditor/IEInputEvent"],function(a){(new a({target:b})).on(function(a){b.value="";d.onTextInput(a)});e(b,"blur",c.hitch(this,function(a){d.onBlur()}));e(b,"focus",c.hitch(this,function(a){d.onFocus()}))}):9<k("ie")?(e(b,"textinput",c.hitch(this,function(a){this._onInput(a)})),e(b,"compositionstart",
c.hitch(this,function(a){this._inComposition=!0})),e(b,"compositionend",c.hitch(this,function(a){this._inComposition=!1}))):(e(b,"input",c.hitch(this,function(a){this._onInput(a)})),e(b,"compositionstart",c.hitch(this,function(a){this._inComposition=!0})),e(b,"compositionend",c.hitch(this,function(a){this._inComposition=!1})))},_onCompositionStart:function(){},_onCompositionUpdate:function(){},_onCompositionEnd:function(){},_onInput:function(c){this._inComposition||(inputData=this.textarea.value,
""!=inputData&&(this.host.onTextInput(inputData),this.resetValue()))},resetValue:function(){var c=this.textarea;setTimeout(function(){c.value=""},0)},getElement:function(){return this.textarea}})});
//@ sourceMappingURL=TextInput.js.map