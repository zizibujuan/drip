//>>built
define("mathEditor/TextInput","dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-construct dojo/dom-class dojo/has dojo/sniff dojo/on dojo/keys".split(" "),function(k,d,g,l,m,n,h,f,e){return k("mathEditor.TextInput",null,{parentNode:null,host:null,textarea:null,_inComposition:!1,constructor:function(p){d.mixin(this,p);e.EQUAL=h("chrome")?187:61;var b=this.textarea=l.create("textarea",{style:{position:"absolute"}},this.parentNode),c=this.host;m.add(b,"drip_text_input");b.wrap="off";b.autocorrect=
"off";b.autocapitalize="off";b.spellcheck=!1;f(b,"keydown",d.hitch(this,function(a){a.keyCode===e.LEFT_ARROW?c.navigateLeft():a.keyCode===e.RIGHT_ARROW?c.navigateRight():a.keyCode===e.UP_ARROW?c.navigateUp():a.keyCode===e.DOWN_ARROW?c.navigateDown():a.keyCode===e.BACKSPACE?c.removeLeft():a.keyCode===e.DELETE?c.removeRight():a.altKey&&191===a.keyCode||(a.altKey&&a.keyCode===e.EQUAL?(c.switchInputMode(),g.stop(a)):a.keyCode===e.ENTER?(c.inputEnter(),g.stop(a)):a.keyCode==e.TAB&&(c.inputTab(),g.stop(a)))}));
f(b,"blur",d.hitch(this,function(a){c.onBlur()}));f(b,"focus",d.hitch(this,function(a){c.onFocus()}));h("chrome")?f(b,"textInput",d.hitch(this,function(a){c.onTextInput(a.data)})):8>=n("ie")?require(["mathEditor/IEInputEvent"],function(a){(new a({target:b})).on(function(a){b.value="";c.onTextInput(a)});f(b,"blur",d.hitch(this,function(a){c.onBlur()}));f(b,"focus",d.hitch(this,function(a){c.onFocus()}))}):(f(b,"input",d.hitch(this,function(a){this._onInput(a)})),f(b,"compositionstart",d.hitch(this,
function(a){this._inComposition=!0})),f(b,"compositionend",d.hitch(this,function(a){this._inComposition=!1})))},_onCompositionStart:function(){},_onCompositionUpdate:function(){},_onCompositionEnd:function(){},_onInput:function(d){this._inComposition||(inputData=this.textarea.value,""!=inputData&&(this.host.onTextInput(inputData),this.resetValue()))},resetValue:function(){var d=this.textarea;setTimeout(function(){d.value=""},0)},getElement:function(){return this.textarea}})});
//@ sourceMappingURL=TextInput.js.map