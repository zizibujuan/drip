//>>built
define("mathEditor/TextInput","dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom-construct dojo/dom-class dojo/has dojo/sniff dojo/on dojo/keys".split(" "),function(g,e,h,l,m,n,k,f,c){return g("mathEditor.TextInput",null,{parentNode:null,host:null,textarea:null,_inComposition:!1,constructor:function(p){e.mixin(this,p);c.EQUAL=k("chrome")?187:61;var b=this.textarea=l.create("textarea",{style:{position:"absolute"}},this.parentNode),d=this.host;m.add(b,"drip_text_input");b.wrap="off";b.autocorrect=
"off";b.autocapitalize="off";b.spellcheck=!1;if(k("chrome"))f(b,"textInput",e.hitch(this,function(a){d.onTextInput(a.data)}));else if(8>=n("ie")){var g={13:1,27:1};f(b,"keyup",e.hitch(this,function(a){this._inComposition&&(!b.value||g[a.keyCode])&&setTimeout(this._onCompositionEnd,0);129>(b.value.charCodeAt(0)||0)||(this._inComposition?this._onCompositionUpdate():this._onCompositionStart())}))}else f(b,"input",e.hitch(this,function(a){this._onInput(a)})),f(b,"compositionstart",e.hitch(this,function(a){this._inComposition=
!0})),f(b,"compositionend",e.hitch(this,function(a){this._inComposition=!1}));f(b,"blur",e.hitch(this,function(a){d.onBlur()}));f(b,"focus",e.hitch(this,function(a){d.onFocus()}));f(b,"keydown",e.hitch(this,function(a){a.keyCode===c.LEFT_ARROW?d.navigateLeft():a.keyCode===c.RIGHT_ARROW?d.navigateRight():a.keyCode===c.UP_ARROW?d.navigateUp():a.keyCode===c.DOWN_ARROW?d.navigateDown():a.keyCode===c.BACKSPACE?d.removeLeft():a.keyCode===c.DELETE?d.removeRight():a.altKey&&191===a.keyCode||(a.altKey&&a.keyCode===
c.EQUAL?(d.switchInputMode(),h.stop(a)):a.keyCode===c.ENTER?(d.inputEnter(),h.stop(a)):a.keyCode==c.TAB&&(d.inputTab(),h.stop(a)))}))},_onCompositionStart:function(){},_onCompositionUpdate:function(){},_onCompositionEnd:function(){},_onInput:function(c){this._inComposition||(inputData=this.textarea.value,""!=inputData&&(this.host.onTextInput(inputData),this.resetValue()))},resetValue:function(){var c=this.textarea;setTimeout(function(){c.value=""},0)},getElement:function(){return this.textarea}})});
//@ sourceMappingURL=TextInput.js.map