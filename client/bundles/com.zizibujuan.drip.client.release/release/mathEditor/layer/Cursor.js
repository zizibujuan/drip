//>>built
define("mathEditor/layer/Cursor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/dom-geometry"],function(declare,lang,domConstruct,domClass,domStyle,domGeom){return declare("mathEditor.layer.Cursor",null,{parentEl:null,caret:null,isVisible:!1,cursorConfig:{top:0,left:0},constructor:function(kwArgs){lang.mixin(this,kwArgs);var caret=this.caret=domConstruct.create("div",{"class":"drip_cursor"},this.parentEl);caret.style.visibility="hidden",this.defaultHeight=caret.clientHeight,this.cursorConfig.height=this.defaultHeight},show:function(){this.isVisible=!0,this.caret.style.visibility="",this._restartTimer()},move:function(cursorConfig){if(this.isVisible==0)return;this.cursorConfig=cursorConfig;var top=cursorConfig.top,left=cursorConfig.left,height=cursorConfig.height,style=this.caret.style;style.top=top+"px",style.left=left+"px",height&&height>0&&(style.height=height+"px"),this.caret.style.visibility="",this._restartTimer()},getCursorConfig:function(){return this.cursorConfig},hide:function(){this.caret.style.visibility="hidden",this.isVisible=!1,clearInterval(this.intervalId),this.intervalId=null,clearTimeout(this.timeoutId),this.timeoutId=null},_restartTimer:function(){this.intervalId!=null&&(clearInterval(this.intervalId),this.intervalId=null);var caret=this.caret,self=this;this.intervalId=setInterval(function(){caret.style.visibility="hidden",self.timeoutId=setTimeout(function(){caret.style.visibility="",0},400)},1e3)},destroy:function(){this.intervalId!=null&&clearInterval(this.intervalId),domConstruct.destroy(this.caret)}})})