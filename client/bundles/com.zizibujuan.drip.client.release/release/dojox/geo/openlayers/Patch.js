//>>built
define("dojox/geo/openlayers/Patch",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojox/gfx","dojox/gfx/shape"],function(dojo,lang,sniff,gfx,shape){var dgo=lang.getObject("geo.openlayers",!0,dojox);return dgo.Patch={patchMethod:function(type,method,execBefore,execAfter){var old=type.prototype[method];type.prototype[method]=function(){var callee=method;execBefore&&execBefore.call(this,callee,arguments);var ret=old.apply(this,arguments);return execAfter&&(ret=execAfter.call(this,callee,ret,arguments)||ret),ret}},patchGFX:function(){var vmlFixRawNodePath=function(){this.rawNode.path||(this.rawNode.path={})},vmlFixFillColors=function(){this.rawNode.fill&&!this.rawNode.fill.colors&&(this.rawNode.fill.colors={})};sniff.isIE<=8&&gfx.renderer==="vml"&&(this.patchMethod(gfx.Line,"setShape",vmlFixRawNodePath,null),this.patchMethod(gfx.Polyline,"setShape",vmlFixRawNodePath,null),this.patchMethod(gfx.Path,"setShape",vmlFixRawNodePath,null),this.patchMethod(shape.Shape,"setFill",vmlFixFillColors,null))}},dgo.Patch})