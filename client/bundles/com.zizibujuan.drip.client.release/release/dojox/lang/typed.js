//>>built
define("dojox/lang/typed",["dojo","dijit","dojox","dojo/require!dojox/json/schema"],function(dojo,dijit,dojox){(function(){function validatingFunction(func,getMethodDef){var validatingFunc=function(){var methodDef=getMethodDef();if(methodDef&&methodDef.parameters){var params=methodDef.parameters;for(var j=0;j<params.length;j++)arguments[j]=validate(arguments[j],params[j],j.toString());if(methodDef.additionalParameters)for(;j<arguments.length;j++)arguments[j]=validate(arguments[j],methodDef.additionalParameters,j.toString())}var returns=func.apply(this,arguments);return methodDef.returns&&validate(returns,methodDef.returns),returns};validatingFunc.__typedFunction__=!0;for(var i in func)validatingFunc[i]=func[i];return validatingFunc}function identityFunc(obj){return function(){return obj}}function validate(instance,schema,property){typeof instance=="function"&&schema&&!instance.__typedFunction__&&(instance=validatingFunction(instance,identityFunc(schema)));var result=jsonSchema._validate(instance,schema,property);if(!result.valid){var errorMessage="",errors=result.errors;for(var i=0;i<errors.length;i++)errorMessage+=errors[i].property+" "+errors[i].message+"\n";throw new TypeError(errorMessage)}return instance}var jsonSchema,inDojo=typeof dojo!="undefined";if(inDojo)dojo.provide("dojox.lang.typed"),dojo.require("dojox.json.schema"),jsonSchema=dojox.json.schema;else{if(typeof JSONSchema=="undefined")throw new Error("Dojo or JSON Schema library must be present");jsonSchema=JSONSchema}var hasGetters=jsonSchema.__defineGetter__,typedFunction=function(Class){if(Class.__typedClass__)return Class;var Wrapper=function(){var i,value,properties=Wrapper.properties,methods=Wrapper.methods;Class.apply(this,arguments),this.__props__={};for(i in methods){value=this[i];if(value){if(!value.__typedFunction__){var proto=this;while(!proto.hasOwnProperty(i)&&proto.__proto__)proto=proto.__proto__;(function(i){proto[i]=validatingFunction(value,function(){return methods[i]})})(i)}}else(function(i){this[i]=function(){throw new TypeError("The method "+i+" is defined but not implemented")}})(i)}if(hasGetters){var self=this;for(i in properties)value=this[i],this.hasOwnProperty(i)&&(this.__props__[i]=value),function(i){delete self[i],self.__defineGetter__(i,function(){return i in this.__props__?this.__props__[i]:this.__proto__[i]}),self.__defineSetter__(i,function(value){return validate(value,properties[i],i),this.__props__[i]=value})}(i)}validate(this,Wrapper)};Wrapper.prototype=Class.prototype;for(var i in Class)Wrapper[i]=Class[i];return Class.prototype.declaredClass&&inDojo&&dojo.setObject(Class.prototype.declaredClass,Wrapper),Wrapper.__typedClass__=!0,Wrapper};if(inDojo){dojox.lang.typed=typedFunction;if(dojo.config.typeCheckAllClasses){var defaultDeclare=dojo.declare;dojo.declare=function(name){var clazz=defaultDeclare.apply(this,arguments);return clazz=typedFunction(clazz),clazz},dojo.mixin(dojo.declare,defaultDeclare)}}else typed=typedFunction})()})