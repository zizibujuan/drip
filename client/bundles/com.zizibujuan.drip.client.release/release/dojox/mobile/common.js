//>>built
define("dojox/mobile/common","dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(l,g,h,j,d,i,n,o,p,c){var a=j.getObject("dojox.mobile",!0);a.getScreenSize=function(){return{h:d.global.innerHeight||d.doc.documentElement.clientHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth}};a.updateOrient=function(){var b=a.getScreenSize();i.replace(d.doc.documentElement,
b.h>b.w?"dj_portrait":"dj_landscape",b.h>b.w?"dj_landscape":"dj_portrait")};a.updateOrient();a.tabletSize=500;a.detectScreenSize=function(b){var e=a.getScreenSize(),c=Math.min(e.w,e.h),f,k;if(c>=a.tabletSize&&(b||!this._sz||this._sz<a.tabletSize))f="phone",k="tablet";else if(c<a.tabletSize&&(b||!this._sz||this._sz>=a.tabletSize))f="tablet",k="phone";k&&(i.replace(d.doc.documentElement,"dj_"+k,"dj_"+f),h.publish("/dojox/mobile/screenSize/"+k,[e]));this._sz=c};a.detectScreenSize();a.hideAddressBarWait=
"number"===typeof g.mblHideAddressBarWait?g.mblHideAddressBarWait:1500;a.hide_1=function(){scrollTo(0,1);a._hidingTimer=0==a._hidingTimer?200:2*a._hidingTimer;setTimeout(function(){a.isAddressBarHidden()||a._hidingTimer>a.hideAddressBarWait?(a.resizeAll(),a._hiding=!1):setTimeout(a.hide_1,a._hidingTimer)},50)};a.hideAddressBar=function(){if(!a.disableHideAddressBar&&!a._hiding){a._hiding=!0;a._hidingTimer=c("iphone")?200:0;var b=screen.availHeight;if(c("android")){b=outerHeight/devicePixelRatio;if(0==
b)a._hiding=!1,setTimeout(function(){a.hideAddressBar()},200);b<=innerHeight&&(b=outerHeight);if(3>c("android"))d.doc.documentElement.style.overflow=d.body().style.overflow="visible"}if(d.body().offsetHeight<b)d.body().style.minHeight=b+"px",a._resetMinHeight=!0;setTimeout(a.hide_1,a._hidingTimer)}};a.isAddressBarHidden=function(){return 1===pageYOffset};a.resizeAll=function(b,e){if(!a.disableResizeAll){h.publish("/dojox/mobile/resizeAll",[b,e]);h.publish("/dojox/mobile/beforeResizeAll",[b,e]);if(a._resetMinHeight)d.body().style.minHeight=
a.getScreenSize().h+"px";a.updateOrient();a.detectScreenSize();var c=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},f=function(a){l.forEach(a.getChildren(),function(a){c(a)&&a.resize();f(a)})};e?(e.resize&&e.resize(),f(e)):l.forEach(l.filter(p.toArray(),c),function(a){a.resize()});h.publish("/dojox/mobile/afterResizeAll",[b,e])}};a.openWindow=function(a,c){d.global.open(a,c||"_blank")};!1!==g.mblApplyPageStyles&&i.add(d.doc.documentElement,"mobile");c("chrome")&&i.add(d.doc.documentElement,
"dj_chrome");if(d.global._no_dojo_dm){var j=d.global._no_dojo_dm,m;for(m in j)a[m]=j[m];a.deviceTheme.setDm(a)}c.add("mblAndroidWorkaround",!1!==g.mblAndroidWorkaround&&3>c("android"),void 0,!0);c.add("mblAndroid3Workaround",!1!==g.mblAndroid3Workaround&&3<=c("android"),void 0,!0);o(function(){a.detectScreenSize(!0);!1!==g.mblAndroidWorkaroundButtonStyle&&c("android")&&n.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},
d.doc.head,"first");c("mblAndroidWorkaround")&&n.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},d.doc.head,"last");var b=a.resizeAll;if(!1!==g.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===g.mblForceHideAddressBar)if(a.hideAddressBar(),!0===g.mblAlwaysHideAddressBar)b=a.hideAddressBar;var e=6<=c("iphone");if((c("android")||e)&&void 0!==d.global.onorientationchange){var j=b,b=function(){var a=h.connect(null,
"onresize",null,function(b){h.disconnect(a);j(b)})},f=a.getScreenSize(),k=e?20:100,i=null,l=null;e&&(h.connect(null,"onkeyup",null,function(){i=(new Date).getTime()}),l=function(a){if(a&&1!==a.nodeType)a=a.parentNode;if(!a||1!==a.nodeType)return!1;a=a.tagName;return"SELECT"===a||"INPUT"===a||"TEXTAREA"===a||"BUTTON"===a});h.connect(null,"onresize",null,function(b){var c=a.getScreenSize();if(c.w==f.w&&Math.abs(c.h-f.h)>=k&&(!e||!(i&&400>(new Date).getTime()-i||l(d.doc.activeElement))))e&&1<pageYOffset?
a.resizeAll():j(b);f=c})}h.connect(null,void 0!==d.global.onorientationchange?"onorientationchange":"onresize",null,b);d.body().style.visibility="visible"});return a});