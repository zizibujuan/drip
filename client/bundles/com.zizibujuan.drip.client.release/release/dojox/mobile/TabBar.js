//>>built
define("dojox/mobile/TabBar",["dojo/_base/array","dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TabBarButton","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/TabBar"],function(array,declare,win,domClass,domConstruct,domGeometry,domStyle,Contained,Container,WidgetBase,TabBarButton,has,BidiTabBar){var TabBar=declare(has("dojo-bidi")?"dojox.mobile.NonBidiTabBar":"dojox.mobile.TabBar",[WidgetBase,Container,Contained],{iconBase:"",iconPos:"",barType:"tabBar",closable:!1,center:!0,syncWithViews:!1,tag:"ul",selectOne:!0,baseClass:"mblTabBar",_fixedButtonWidth:76,_fixedButtonMargin:17,_largeScreenWidth:500,buildRendering:function(){this.domNode=this.srcNodeRef||domConstruct.create(this.tag),this.reset(),this.inherited(arguments)},postCreate:function(){if(this.syncWithViews){var f=function(view,moveTo,dir,transition,context,method){var child=array.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id})[0];child&&child.set("selected",!0)};this.subscribe("/dojox/mobile/afterTransitionIn",f),this.subscribe("/dojox/mobile/startView",f)}},startup:function(){if(this._started)return;this.inherited(arguments),this.resize()},reset:function(){var prev=this._barType;if(typeof this.barType=="object"){this._barType=this.barType["*"];for(var c in this.barType)if(domClass.contains(win.doc.documentElement,c)){this._barType=this.barType[c];break}}else this._barType=this.barType;var cap=function(s){return s.charAt(0).toUpperCase()+s.substring(1)};prev&&domClass.remove(this.domNode,this.baseClass+cap(prev)),domClass.add(this.domNode,this.baseClass+cap(this._barType))},resize:function(size){var i,w;size&&size.w?(domGeometry.setMarginBox(this.domNode,size),w=size.w):w=domStyle.get(this.domNode,"position")==="absolute"?domGeometry.getContentBox(this.domNode).w:domGeometry.getMarginBox(this.domNode).w;var bw=this._fixedButtonWidth,bm=this._fixedButtonMargin,arr=array.map(this.getChildren(),function(w){return w.domNode});domClass.toggle(this.domNode,"mblTabBarNoIcons",!array.some(this.getChildren(),function(w){return w.iconNode1})),domClass.toggle(this.domNode,"mblTabBarNoText",!array.some(this.getChildren(),function(w){return w.label}));var margin=0;if(this._barType=="tabBar"){this.containerNode.style.paddingLeft="",margin=Math.floor((w-(bw+bm*2)*arr.length)/2);if(w<this._largeScreenWidth||margin<0)for(i=0;i<arr.length;i++)arr[i].style.width=Math.round(98/arr.length)+"%",arr[i].style.margin="0";else{for(i=0;i<arr.length;i++)arr[i].style.width=bw+"px",arr[i].style.margin="0 "+bm+"px";arr.length>0&&(arr[0].style.marginLeft=margin+bm+"px"),this.containerNode.style.padding="0px"}}else{for(i=0;i<arr.length;i++)arr[i].style.width=arr[i].style.margin="";var parent=this.getParent();if(this.center&&(!parent||!domClass.contains(parent.domNode,"mblHeading"))){margin=w;for(i=0;i<arr.length;i++)margin-=domGeometry.getMarginBox(arr[i]).w;margin=Math.floor(margin/2)}this.containerNode.style.paddingLeft=margin?margin+"px":""}},getSelectedTab:function(){return array.filter(this.getChildren(),function(w){return w.selected})[0]},onCloseButtonClick:function(tab){return!0}});return has("dojo-bidi")?declare("dojox.mobile.TabBar",[TabBar,BidiTabBar]):TabBar})