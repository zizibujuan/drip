//>>built
define("dojox/mobile/migrationAssist",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dijit/_Container","dijit/_WidgetBase","./_ItemBase","./common","./FixedSplitterPane","./Heading","./iconUtils","./ListItem","./RoundRect","./SpinWheel","./SpinWheelSlot","./SwapView","./TabBarButton","./ToolBarButton","./View"],function(declare,lang,win,domClass,domConstruct,domStyle,ready,Container,WidgetBase,_ItemBase,mobile,FixedSplitterPane,Heading,iconUtils,ListItem,RoundRect,SpinWheel,SpinWheelSlot,SwapView,TabBarButton,ToolBarButton,View){var currentTheme,MigrationAssist=function(){var get=function(w,key){return w[key]||w.srcNodeRef&&w.srcNodeRef.getAttribute(key)};this.dispatch=function(cls,w){var base=cls.replace(/.*\./,"");this["check"+base]&&this["check"+base](w)},this.checkCarousel=function(w){0},this.checkFixedSplitter=function(w){if(!this._fixedSplitter_css_checked){this._fixedSplitter_css_checked=!0;var dummy=domConstruct.create("div",{className:"mblFixedSplitter"},win.body());domStyle.get(dummy,"height")==0&&(domConstruct.create("link",{href:"../themes/android/FixedSplitter.css",type:"text/css",rel:"stylesheet"},win.doc.getElementsByTagName("head")[0]),0),win.body().removeChild(dummy),setTimeout(function(){w.resize()},1e3)}},this.checkFixedSplitterPane=function(w){0},this.checkFixedSplitter=function(w){if(!this._fixedSplitter_css_checked){this._fixedSplitter_css_checked=!0;var dummy=domConstruct.create("div",{className:"mblFixedSplitter"},win.body());domStyle.get(dummy,"height")==0&&(domConstruct.create("link",{href:"../themes/android/FixedSplitter.css",type:"text/css",rel:"stylesheet"},win.doc.getElementsByTagName("head")[0]),0),win.body().removeChild(dummy),setTimeout(function(){w.resize()},1e3)}},this.checkListItem=function(w){(w.sync!==undefined||w.srcNodeRef&&w.srcNodeRef.getAttribute("sync"))&&0;if(w.btnClass!==undefined||w.srcNodeRef&&w.srcNodeRef.getAttribute("btnClass"))0,w.rightIcon=w.btnClass||w.srcNodeRef&&w.srcNodeRef.getAttribute("btnClass");if(w.btnClass2!==undefined||w.srcNodeRef&&w.srcNodeRef.getAttribute("btnClass2"))0,w.rightIcon2=w.btnClass2||w.srcNodeRef&&w.srcNodeRef.getAttribute("btnClass2")},this.checkSpinWheelSlot=function(w){if(w.labels&&w.labels[0]&&w.labels[0].charAt(0)==="["){for(var i=0;i<w.labels.length;i++)w.labels[i]=w.labels[i].replace(/^\[*[\'\"]*/,""),w.labels[i]=w.labels[i].replace(/[\'\"]*\]*$/,"");0}},this.checkSwapView=function(w){var n=w.srcNodeRef;if(n){var type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type");type==="dojox.mobile.FlippableView"&&0}},this.checkSwitch=function(w){w["class"]==="mblItemSwitch"&&0},this.checkTabBar=function(w){get(w,"barType")==="segmentedControl"&&(0,domConstruct.create("style",{innerHTML:".iphone_theme .mblTabBarSegmentedControl .mblTabBarButtonIconArea { display: none; }"},win.doc.getElementsByTagName("head")[0]))},this.checkTabBarButton=function(w){(w["class"]||"").indexOf("mblDomButton")===0&&(0,w.icon=w["class"],w["class"]="",w.srcNodeRef&&(w.srcNodeRef.className=""))},this.checkToolBarButton=function(w){(w["class"]||"").indexOf("mblColor")===0&&(0,w.defaultColor=w["class"],w["class"]="",w.srcNodeRef&&(w.srcNodeRef.className="")),(w["class"]||"").indexOf("mblDomButton")===0&&(0,w.icon=w["class"],w["class"]="",w.srcNodeRef&&(w.srcNodeRef.className=""))}};dojox.mobile.FlippableView=SwapView;var migrationAssist=new MigrationAssist;WidgetBase.prototype.postMixInProperties=function(){migrationAssist.dispatch(this.declaredClass,this),dojo.forEach([FixedSplitterPane,Heading,RoundRect,SpinWheel,TabBarButton,ToolBarButton,View],function(module){this.declaredClass!==module.prototype.declaredClass&&this instanceof module&&migrationAssist.dispatch(module.prototype.declaredClass,this)},this)},extendSelectFunction=function(obj){lang.extend(obj,{select:function(){0,obj.prototype.set.apply(this,["selected",!arguments[0]])},deselect:function(){this.select(!0)}})},extendSelectFunction(ToolBarButton),extendSelectFunction(TabBarButton),lang.extend(ListItem,{set:function(key,value){key==="btnClass"?(0,key="rightIcon"):key==="btnClass2"&&(0,key="rightIcon2"),WidgetBase.prototype.set.apply(this,[key,value])}}),lang.extend(SpinWheel,{getValue:function(){return 0,this.get("values")},setValue:function(newValue){return 0,this.set("values",newValue)}}),lang.extend(SpinWheelSlot,{getValue:function(){return 0,this.get("value")},getKey:function(){return 0,this.get("key")},setValue:function(newValue){return 0,this.set("value",newValue)}}),lang.mixin(mobile,{createDomButton:function(){return 0,iconUtils.createDomButton.apply(this,arguments)}});var cssFiles=[],i,j,s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href)continue;var r=s[i].cssRules||s[i].imports;if(!r)continue;for(j=0;j<r.length;j++)r[j].href&&cssFiles.push(r[j].href)}var elems=win.doc.getElementsByTagName("link");for(i=0;i<elems.length;i++)cssFiles.push(elems[i].href);for(i=0;i<cssFiles.length;i++)cssFiles[i].indexOf("/iphone/")!==-1?currentTheme="iphone":cssFiles[i].indexOf("/android/")!==-1?currentTheme="android":cssFiles[i].indexOf("/blackberry/")!==-1?currentTheme="blackberry":cssFiles[i].indexOf("/custom/")!==-1&&(currentTheme="custom"),domClass.add(win.doc.documentElement,currentTheme+"_theme"),cssFiles[i].match(/themes\/common\/(FixedSplitter.css)|themes\/common\/(SpinWheel.css)/)&&0;return ready(function(){dojo.hash&&(0,dojo.require?dojo.require("dojox.mobile.bookmarkable"):require(["dojox/mobile/bookmarkable"]))}),migrationAssist})