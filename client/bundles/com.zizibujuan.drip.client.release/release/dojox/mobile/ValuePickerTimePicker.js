//>>built
define("dojox/mobile/ValuePickerTimePicker",["dojo/_base/declare","dojo/dom-class","./_TimePickerMixin","./ToolBarButton","./ValuePicker","./ValuePickerSlot"],function(declare,domClass,TimePickerMixin,ToolBarButton,ValuePicker,ValuePickerSlot){return declare("dojox.mobile.ValuePickerTimePicker",[ValuePicker,TimePickerMixin],{readOnly:!1,is24h:!1,slotClasses:[ValuePickerSlot,ValuePickerSlot],slotProps:[{labelFrom:0,labelTo:23,style:{width:"72px"}},{labelFrom:0,labelTo:59,zeroPad:2,style:{width:"72px"}}],buildRendering:function(){var p=this.slotProps;p[0].readOnly=p[1].readOnly=this.readOnly,this.inherited(arguments);var items=this.slots[0].items;this._zero=items.slice(0,1),this._pm=items.slice(13),domClass.add(this.domNode,"mblValuePickerTimePicker"),domClass.add(this.slots[0].domNode,"mblValuePickerTimePickerHourSlot"),domClass.add(this.slots[1].domNode,"mblValuePickerTimePickerMinuteSlot"),this.ampmButton=new ToolBarButton,this.addChild(this.ampmButton),this._conn=[this.connect(this.ampmButton,"onClick","onBtnClick")],this.set("is24h",this.is24h)},to12h:function(a){var h=a[0]-0,ampm=h<12?"AM":"PM";return h==0?h=12:h>12&&(h-=12),[h+"",a[1],ampm]},to24h:function(a){var h=a[0]-0;return a[2]=="AM"?h=h==12?0:h:h=h==12?h:h+12,[h+"",a[1]]},onBtnClick:function(e){var ampm=this.ampmButton.get("label")=="AM"?"PM":"AM",v=this.get("values12");v[2]=ampm,this.set("values12",v)},_setIs24hAttr:function(is24h){var items=this.slots[0].items;is24h&&items.length!=24?this.slots[0].items=this._zero.concat(items).concat(this._pm):!is24h&&items.length!=12&&(items.splice(0,1),items.splice(12));var v=this.get("values");this._set("is24h",is24h),this.ampmButton.domNode.style.display=is24h?"none":"",this.set("values",v)},_getValuesAttr:function(){var v=this.inherited(arguments);return this.is24h?v:this.to24h([v[0],v[1],this.ampmButton.get("label")])},_setValuesAttr:function(values){this.is24h?this.inherited(arguments):(values=this.to12h(values),this.ampmButton.set("label",values[2]),this.inherited(arguments))},_getValues12Attr:function(){return this.to12h(this._getValuesAttr())},_setValues12Attr:function(values){this.set("values",this.to24h(values))}})})