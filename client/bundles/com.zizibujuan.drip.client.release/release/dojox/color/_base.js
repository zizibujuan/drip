//>>built
define("dojox/color/_base",["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(dojox,lang,Color,colors){var cx=lang.getObject("color",!0,dojox);return cx.Color=Color,cx.blend=Color.blendColors,cx.fromRgb=Color.fromRgb,cx.fromHex=Color.fromHex,cx.fromArray=Color.fromArray,cx.fromString=Color.fromString,cx.greyscale=colors.makeGrey,lang.mixin(cx,{fromCmy:function(cyan,magenta,yellow){lang.isArray(cyan)?(magenta=cyan[1],yellow=cyan[2],cyan=cyan[0]):lang.isObject(cyan)&&(magenta=cyan.m,yellow=cyan.y,cyan=cyan.c),cyan/=100,magenta/=100,yellow/=100;var r=1-cyan,g=1-magenta,b=1-yellow;return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)})},fromCmyk:function(cyan,magenta,yellow,black){lang.isArray(cyan)?(magenta=cyan[1],yellow=cyan[2],black=cyan[3],cyan=cyan[0]):lang.isObject(cyan)&&(magenta=cyan.m,yellow=cyan.y,black=cyan.b,cyan=cyan.c),cyan/=100,magenta/=100,yellow/=100,black/=100;var r,g,b;return r=1-Math.min(1,cyan*(1-black)+black),g=1-Math.min(1,magenta*(1-black)+black),b=1-Math.min(1,yellow*(1-black)+black),new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)})},fromHsl:function(hue,saturation,luminosity){lang.isArray(hue)?(saturation=hue[1],luminosity=hue[2],hue=hue[0]):lang.isObject(hue)&&(saturation=hue.s,luminosity=hue.l,hue=hue.h),saturation/=100,luminosity/=100;while(hue<0)hue+=360;while(hue>=360)hue-=360;var r,g,b;return hue<120?(r=(120-hue)/60,g=hue/60,b=0):hue<240?(r=0,g=(240-hue)/60,b=(hue-120)/60):(r=(hue-240)/60,g=0,b=(360-hue)/60),r=2*saturation*Math.min(r,1)+(1-saturation),g=2*saturation*Math.min(g,1)+(1-saturation),b=2*saturation*Math.min(b,1)+(1-saturation),luminosity<.5?(r*=luminosity,g*=luminosity,b*=luminosity):(r=(1-luminosity)*r+2*luminosity-1,g=(1-luminosity)*g+2*luminosity-1,b=(1-luminosity)*b+2*luminosity-1),new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)})}}),cx.fromHsv=function(hue,saturation,value){lang.isArray(hue)?(saturation=hue[1],value=hue[2],hue=hue[0]):lang.isObject(hue)&&(saturation=hue.s,value=hue.v,hue=hue.h),hue==360&&(hue=0),saturation/=100,value/=100;var r,g,b;if(saturation==0)r=value,b=value,g=value;else{var hTemp=hue/60,i=Math.floor(hTemp),f=hTemp-i,p=value*(1-saturation),q=value*(1-saturation*f),t=value*(1-saturation*(1-f));switch(i){case 0:r=value,g=t,b=p;break;case 1:r=q,g=value,b=p;break;case 2:r=p,g=value,b=t;break;case 3:r=p,g=q,b=value;break;case 4:r=t,g=p,b=value;break;case 5:r=value,g=p,b=q}}return new Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)})},lang.extend(Color,{toCmy:function(){var cyan=1-this.r/255,magenta=1-this.g/255,yellow=1-this.b/255;return{c:Math.round(cyan*100),m:Math.round(magenta*100),y:Math.round(yellow*100)}},toCmyk:function(){var cyan,magenta,yellow,black,r=this.r/255,g=this.g/255,b=this.b/255;return black=Math.min(1-r,1-g,1-b),cyan=(1-r-black)/(1-black),magenta=(1-g-black)/(1-black),yellow=(1-b-black)/(1-black),{c:Math.round(cyan*100),m:Math.round(magenta*100),y:Math.round(yellow*100),b:Math.round(black*100)}},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255,min=Math.min(r,b,g),max=Math.max(r,g,b),delta=max-min,h=0,s=0,l=(min+max)/2;return l>0&&l<1&&(s=delta/(l<.5?2*l:2-2*l)),delta>0&&(max==r&&max!=g&&(h+=(g-b)/delta),max==g&&max!=b&&(h+=2+(b-r)/delta),max==b&&max!=r&&(h+=4+(r-g)/delta),h*=60),{h:h,s:Math.round(s*100),l:Math.round(l*100)}},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255,min=Math.min(r,b,g),max=Math.max(r,g,b),delta=max-min,h=null,s=max==0?0:delta/max;return s==0?h=0:(r==max?h=60*(g-b)/delta:g==max?h=120+60*(b-r)/delta:h=240+60*(r-g)/delta,h<0&&(h+=360)),{h:h,s:Math.round(s*100),v:Math.round(max*100)}}}),cx})