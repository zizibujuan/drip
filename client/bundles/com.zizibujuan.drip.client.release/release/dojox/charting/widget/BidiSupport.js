//>>built
define("dojox/charting/widget/BidiSupport",["dojo/dom","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/query","dijit/_BidiSupport","../BidiSupport","dijit/registry","./Chart","./Legend"],function(dom,lang,arrayUtil,hub,query,dBidi,cBidi,widgetManager,Chart,Legend){function validateTextDir(textDir){return/^(ltr|rtl|auto)$/.test(textDir)?textDir:null}return lang.extend(Legend,{postMixInProperties:function(){if(!this.chart){if(!this.chartRef)return;var chart=widgetManager.byId(this.chartRef);if(!chart){var node=dom.byId(this.chartRef);if(!node)return;chart=widgetManager.byNode(node)}this.textDir=chart.chart.textDir,hub.connect(chart.chart,"setTextDir",this,"_setTextDirAttr")}else this.textDir=this.chart.textDir,hub.connect(this.chart,"setTextDir",this,"_setTextDirAttr")},_setTextDirAttr:function(textDir){if(validateTextDir(textDir)!=null&&this.textDir!=textDir){this._set("textDir",textDir);var legendLabels=query(".dojoxLegendText",this._tr);arrayUtil.forEach(legendLabels,function(label){label.dir=this.getTextDir(label.innerHTML,label.dir)},this)}}}),lang.extend(Chart,{postMixInProperties:function(){this.textDir=this.params.textDir?this.params.textDir:this.params.dir},_setTextDirAttr:function(textDir){validateTextDir(textDir)!=null&&(this._set("textDir",textDir),this.chart.setTextDir(textDir))}}),Chart})