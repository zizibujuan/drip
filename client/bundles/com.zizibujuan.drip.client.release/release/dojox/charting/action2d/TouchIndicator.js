//>>built
define("dojox/charting/action2d/TouchIndicator",["dojo/_base/lang","dojo/_base/declare","dojo/_base/event","./ChartAction","./_IndicatorElement","dojox/lang/utils"],function(lang,declare,eventUtil,ChartAction,IndicatorElement,du){return declare("dojox.charting.action2d.TouchIndicator",ChartAction,{defaultParams:{series:"",dualIndicator:!1,vertical:!0,autoScroll:!0,fixed:!0,precision:0,lines:!0,labels:!0,markers:!0},optionalParams:{lineStroke:{},outlineStroke:{},shadowStroke:{},lineFill:{},stroke:{},outline:{},shadow:{},fill:{},fillFunc:null,labelFunc:null,font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerSymbol:"",offset:{},start:!1},constructor:function(chart,plot,kwArgs){this._listeners=[{eventName:"ontouchstart",methodName:"onTouchStart"},{eventName:"ontouchmove",methodName:"onTouchMove"},{eventName:"ontouchend",methodName:"onTouchEnd"},{eventName:"ontouchcancel",methodName:"onTouchEnd"}],this.opt=lang.clone(this.defaultParams),du.updateWithObject(this.opt,kwArgs),du.updateWithPattern(this.opt,kwArgs,this.optionalParams),this._uName="touchIndicator"+this.opt.series,this.connect()},connect:function(){this.inherited(arguments),this.chart.addPlot(this._uName,{type:IndicatorElement,inter:this})},disconnect:function(){var plot=this.chart.getPlot(this._uName);plot.pageCoord&&this.onTouchEnd(),this.chart.removePlot(this._uName),this.inherited(arguments)},onChange:function(event){},onTouchStart:function(event){event.touches.length==1?this._onTouchSingle(event,!0):this.opt.dualIndicator&&event.touches.length==2&&this._onTouchDual(event)},onTouchMove:function(event){event.touches.length==1?this._onTouchSingle(event):this.opt.dualIndicator&&event.touches.length==2&&this._onTouchDual(event)},_onTouchSingle:function(event,delayed){this.chart._delayedRenderHandle&&!delayed&&this.chart.render();var plot=this.chart.getPlot(this._uName);plot.pageCoord={x:event.touches[0].pageX,y:event.touches[0].pageY},plot.dirty=!0,delayed?this.chart.delayedRender():this.chart.render(),eventUtil.stop(event)},_onTouchDual:function(event){this.chart._delayedRenderHandle&&this.chart.render();var plot=this.chart.getPlot(this._uName);plot.pageCoord={x:event.touches[0].pageX,y:event.touches[0].pageY},plot.secondCoord={x:event.touches[1].pageX,y:event.touches[1].pageY},plot.dirty=!0,this.chart.render(),eventUtil.stop(event)},onTouchEnd:function(event){var plot=this.chart.getPlot(this._uName);plot.stopTrack(),plot.pageCoord=null,plot.secondCoord=null,plot.dirty=!0,this.chart.delayedRender()}})})