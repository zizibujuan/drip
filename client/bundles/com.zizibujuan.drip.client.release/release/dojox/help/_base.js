//>>built
define("dojox/help/_base",["dojo","dijit","dojox","dojo/require!dojox/rpc/Service,dojo/io/script"],function(dojo,dijit,dojox){dojo.provide("dojox.help._base"),dojo.require("dojox.rpc.Service"),dojo.require("dojo.io.script"),dojo.experimental("dojox.help"),0,dojox.help={locate:function(searchFor,searchIn,maxResults){maxResults=maxResults||20;var namespaces=[],roots={},root;if(searchIn){dojo.isArray(searchIn)||(searchIn=[searchIn]);for(var i=0,namespace;namespace=searchIn[i];i++){root=namespace;if(dojo.isString(namespace)){namespace=dojo.getObject(namespace);if(!namespace)continue}else{if(!dojo.isObject(namespace))continue;root=namespace.__name__}namespaces.push(namespace),root&&(root=root.split(".")[0],!roots[root]&&dojo.indexOf(dojox.help._namespaces,root)==-1&&dojox.help.refresh(root),roots[root]=!0)}}namespaces.length||(namespaces.push({__name__:"window"}),dojo.forEach(dojox.help._namespaces,function(item){roots[item]=!0}));var searchForLower=searchFor.toLowerCase(),found=[];a:for(var i=0,namespace;namespace=namespaces[i];i++){var name=namespace.__name__||"",shorter=dojo.some(namespaces,function(item){return item=item.__name__||"",name.indexOf(item+".")==0});if(name&&!shorter){root=name.split(".")[0];var names=[];if(name=="window")for(root in dojox.help._names)dojo.isArray(dojox.help._names[root])&&(names=names.concat(dojox.help._names[root]));else names=dojox.help._names[root];for(var j=0,variable;variable=names[j];j++)if((name=="window"||variable.indexOf(name+".")==0)&&variable.toLowerCase().indexOf(searchForLower)!=-1){if(variable.slice(-10)==".prototype")continue;var obj=dojo.getObject(variable);if(obj){found.push([variable,obj]);if(found.length==maxResults)break a}}}}dojox.help._displayLocated(found);if(!dojo.isMoz)return""},refresh:function(namespace,recursive){arguments.length<2&&(recursive=!0),dojox.help._recurse(namespace,recursive)},noConflict:function(item){if(arguments.length)return dojox.help._noConflict(item);while(dojox.help._overrides.length){var override=dojox.help._overrides.pop(),parent=override[0],key=override[1],child=parent[key];parent[key]=dojox.help._noConflict(child)}},init:function(namespaces,noConflict){namespaces&&dojox.help._namespaces.concat(namespaces),dojo.addOnLoad(function(){dojo.require=function(require){return function(){dojox.help.noConflict(),require.apply(dojo,arguments),dojox.help._timer&&clearTimeout(dojox.help._timer),dojox.help._timer=setTimeout(function(){dojo.addOnLoad(function(){dojox.help.refresh(),dojox.help._timer=!1})},500)}}(dojo.require),dojox.help._recurse()})},_noConflict:function(item){return item instanceof String?item.toString():item instanceof Number?+item:item instanceof Boolean?item==1:(dojo.isObject(item)&&(delete item.__name__,delete item.help),item)},_namespaces:["dojo","dojox","dijit","djConfig"],_rpc:new dojox.rpc.Service(dojo.moduleUrl("dojox.rpc.SMDLibrary","dojo-api.smd")),_attributes:["summary","type","returns","parameters"],_clean:function(self){var obj={};for(var i=0,attribute;attribute=dojox.help._attributes[i];i++){var value=self["__"+attribute+"__"];value&&(obj[attribute]=value)}return obj},_displayLocated:function(located){throw new Error("_displayLocated should be overridden in one of the dojox.help packages")},_displayHelp:function(loading,obj){throw new Error("_displayHelp should be overridden in one of the dojox.help packages")},_addVersion:function(obj){if(obj.name){obj.version=[dojo.version.major,dojo.version.minor,dojo.version.patch].join(".");var parts=obj.name.split(".");if(parts[0]=="dojo"||parts[0]=="dijit"||parts[0]=="dojox")obj.project=parts[0]}return obj},_stripPrototype:function(original){var name=original.replace(/\.prototype(\.|$)/g,"."),search=name;return name.slice(-1)=="."?search=name=name.slice(0,-1):name=original,[search,name]},_help:function(){var name=this.__name__,search=dojox.help._stripPrototype(name)[0],attributes=[];for(var i=0,attribute;attribute=dojox.help._attributes[i];i++)this["__"+attribute+"__"]||attributes.push(attribute);dojox.help._displayHelp(!0,{name:this.__name__}),!attributes.length||this.__searched__?dojox.help._displayHelp(!1,dojox.help._clean(this)):(this.__searched__=!0,dojox.help._rpc.get(dojox.help._addVersion({name:search,exact:!0,attributes:attributes})).addCallback(this,function(data){this.toString===dojox.help._toString&&this.toString(data);if(data&&data.length){data=data[0];for(var i=0,attribute;attribute=dojox.help._attributes[i];i++)data[attribute]&&(this["__"+attribute+"__"]=data[attribute]);dojox.help._displayHelp(!1,dojox.help._clean(this))}else dojox.help._displayHelp(!1,!1)}));if(!dojo.isMoz)return""},_parse:function(data){delete this.__searching__;if(data&&data.length){var parameters=data[0].parameters;if(parameters){var signature=["function ",this.__name__,"("];this.__parameters__=parameters;for(var i=0,parameter;parameter=parameters[i];i++){i&&signature.push(", "),signature.push(parameter.name);if(parameter.types){var types=[];for(var j=0,type;type=parameter.types[j];j++)types.push(type.title);types.length&&(signature.push(": "),signature.push(types.join("|")))}parameter.repeating&&signature.push("..."),parameter.optional&&signature.push("?")}signature.push(")"),this.__source__=this.__source__.replace(/function[^\(]*\([^\)]*\)/,signature.join(""))}this.__output__&&(delete this.__output__,0)}else dojox.help._displayHelp(!1,!1)},_toStrings:{},_toString:function(data){if(!this.__source__)return this.__name__;var first=!this.__parameters__;this.__parameters__=[],data?dojox.help._parse.call(this,data):first&&(this.__searching__=!0,dojox.help._toStrings[dojox.help._stripPrototype(this.__name__)[0]]=this,dojox.help._toStringTimer&&clearTimeout(dojox.help._toStringTimer),dojox.help._toStringTimer=setTimeout(function(){dojox.help.__toString()},50));if(!first||!this.__searching__)return this.__source__;var message="function Loading info for "+this.__name__+"... (watch console for result) {}";return dojo.isMoz?{toString:dojo.hitch(this,function(){return this.__output__=!0,message})}:(this.__output__=!0,message)},__toString:function(){dojox.help._toStringTimer&&clearTimeout(dojox.help._toStringTimer);var names=[];dojox.help.noConflict(dojox.help._toStrings);for(var name in dojox.help._toStrings)names.push(name);while(names.length)dojox.help._rpc.batch(dojox.help._addVersion({names:names.splice(-50,50),exact:!0,attributes:["parameters"]})).addCallback(this,function(datas){for(var i=0,data;data=datas[i];i++){var fn=dojox.help._toStrings[data.name];fn&&(dojox.help._parse.call(fn,[data]),delete dojox.help._toStrings[data.name])}})},_overrides:[],_recursions:[],_names:{},_recurse:function(namespace,recursive){arguments.length<2&&(recursive=!0);var items=[];if(namespace&&dojo.isString(namespace))dojox.help.__recurse(dojo.getObject(namespace),namespace,namespace,items,recursive);else for(var i=0,ns;ns=dojox.help._namespaces[i];i++)window[ns]&&(dojox.help._recursions.push([window[ns],ns,ns]),window[ns].__name__=ns,window[ns].help||(window[ns].help=dojox.help._help));while(dojox.help._recursions.length){var recursion=dojox.help._recursions.shift();dojox.help.__recurse(recursion[0],recursion[1],recursion[2],items,recursive)}for(var i=0,item;item=items[i];i++)delete item.__seen__},__recurse:function(namespace,root,name,items,recursive){for(var key in namespace){if(key.match(/([^\w_.$]|__[\w_.$]+__)/))continue;var item=namespace[key];if(typeof item=="undefined"||item===document||item===window||item===dojox.help._toString||item===dojox.help._help||item===null||+dojo.isIE&&item.tagName||item.__seen__)continue;var isFunction=dojo.isFunction(item),isObject=dojo.isObject(item)&&!dojo.isArray(item)&&!item.nodeType,itemName=name?name+"."+key:key;if(itemName=="dojo._blockAsync")continue;if(!item.__name__){var parent=null;dojo.isString(item)?parent=String:typeof item=="number"?parent=Number:typeof item=="boolean"&&(parent=Boolean),parent&&(item=namespace[key]=new parent(item))}item.__seen__=!0,item.__name__=itemName,(dojox.help._names[root]=dojox.help._names[root]||[]).push(itemName),items.push(item),isFunction||dojox.help._overrides.push([namespace,key]),(isFunction||isObject)&&recursive&&dojox.help._recursions.push([item,root,itemName]),isFunction&&(item.__source__||(item.__source__=item.toString().replace(/^function\b ?/,"function "+itemName)),item.toString===Function.prototype.toString&&(item.toString=dojox.help._toString)),item.help||(item.help=dojox.help._help)}}}})