//>>built
define("dojox/form/uploader/_IFrame",["dojo/dom-construct","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/request/iframe"],function(d,e,j,h,i){return e("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);if("iframe"===this.uploadType)this.uploadType="iframe",this.upload=this.uploadIFrame},uploadIFrame:function(c){var b,f=!1;c.uploadType=this.uploadType;this.getForm()?b=this.form:(b=d.place('<form enctype="multipart/form-data" method="post"></form>',
this.domNode),h.forEach(this._inputs,function(a){a.value&&b.appendChild(a)},this),f=!0);var e=this.getUrl(),g=this;i.post(e,{form:b,handleAs:"json",content:c}).then(function(a){f&&d.destroy(b);if(c.ERROR||c.error)g.onError(a);else g.onComplete(a)},function(a){f&&d.destroy(b);g.onError(a)})}})});