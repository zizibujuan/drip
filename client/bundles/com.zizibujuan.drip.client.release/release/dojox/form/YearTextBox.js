//>>built
define("dojox/form/YearTextBox",["dojo/_base/kernel","dojo/_base/lang","dojox/widget/YearlyCalendar","dijit/form/TextBox","./DateTextBox","dojo/_base/declare"],function(kernel,lang,YearlyCalendar,TextBox,DateTextBox,declare){return kernel.experimental("dojox/form/DateTextBox"),declare("dojox.form.YearTextBox",DateTextBox,{popupClass:YearlyCalendar,format:function(value){return typeof value=="string"?value:value.getFullYear?value.getFullYear():value},validator:function(value){return value==""||value==null||/(^-?\d\d*$)/.test(String(value))},_setValueAttr:function(value,priorityChange,formattedValue){value&&value.getFullYear&&(value=value.getFullYear()),TextBox.prototype._setValueAttr.call(this,value,priorityChange,formattedValue)},openDropDown:function(){this.inherited(arguments),this.dropDown.onValueSelected=lang.hitch(this,function(value){this.focus(),setTimeout(lang.hitch(this,"closeDropDown"),1),TextBox.prototype._setValueAttr.call(this,value,!0,value)})},parse:function(value,constraints){return value||(this._isEmpty(value)?null:undefined)},filter:function(val){return val&&val.getFullYear?val.getFullYear().toString():this.inherited(arguments)}})})