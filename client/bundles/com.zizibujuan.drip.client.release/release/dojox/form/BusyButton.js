//>>built
define("dojox/form/BusyButton",["dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ComboButton","dojo/i18n","dojo/i18n!dijit/nls/loading","dojo/_base/declare"],function(lang,domAttr,domClass,Button,DropDownButton,ComboButton,i18n,nlsLoading,declare){var _BusyButtonMixin=declare("dojox.form._BusyButtonMixin",null,{isBusy:!1,busyLabel:"",timeout:null,useIcon:!0,postMixInProperties:function(){this.inherited(arguments),this.busyLabel||(this.busyLabel=i18n.getLocalization("dijit","loading",this.lang).loadingState)},postCreate:function(){this.inherited(arguments),this._label=this.containerNode.innerHTML,this._initTimeout=this.timeout,this.isBusy&&this.makeBusy()},makeBusy:function(){this.isBusy=!0,this.set("disabled",!0),this.setLabel(this.busyLabel,this.timeout)},cancel:function(){this.set("disabled",!1),this.isBusy=!1,this.setLabel(this._label),this._timeout&&clearTimeout(this._timeout),this.timeout=this._initTimeout},resetTimeout:function(timeout){this._timeout&&clearTimeout(this._timeout),timeout?this._timeout=setTimeout(lang.hitch(this,function(){this.cancel()}),timeout):(timeout==undefined||timeout===0)&&this.cancel()},setLabel:function(content,timeout){this.label=content;while(this.containerNode.firstChild)this.containerNode.removeChild(this.containerNode.firstChild);this.containerNode.innerHTML=this.label,this.showLabel==0&&!domAttr.get(this.domNode,"title")&&(this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"")),timeout?this.resetTimeout(timeout):this.timeout=null;if(this.useIcon&&this.isBusy){var node=new Image;node.src=this._blankGif,domAttr.set(node,"id",this.id+"_icon"),domClass.add(node,"dojoxBusyButtonIcon"),this.containerNode.appendChild(node)}},_onClick:function(e){this.isBusy||(this.inherited(arguments),this.makeBusy())}}),BusyButton=declare("dojox.form.BusyButton",[Button,_BusyButtonMixin],{});return declare("dojox.form.BusyComboButton",[ComboButton,_BusyButtonMixin],{}),declare("dojox.form.BusyDropDownButton",[DropDownButton,_BusyButtonMixin],{}),BusyButton})