//>>built
require({cache:{"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'<tr class="dijitReset dijitMenuItem" dojoAttachPoint="focusNode" role="menuitemcheckbox" tabIndex="-1"\n	dojoAttachEvent="ondijitclick:_onClick"\n	><td class="dijitReset dijitMenuItemIconCell" role="presentation"\n		><div src="${_blankGif}" alt="" class="dijitMenuItemIcon ${_iconClass}" dojoAttachPoint="iconNode"\n			><input class="dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint="inputNode" type="${_type.type}"\n		/></div></td\n	><td class="dijitReset dijitMenuItemLabel" colspan="2" dojoAttachPoint="containerNode,labelNode"></td\n	><td class="dijitReset dijitMenuItemAccelKey" style="display: none" dojoAttachPoint="accelKeyNode"></td\n	><td class="dijitReset dijitMenuArrowCell" role="presentation">&nbsp;</td\n></tr>',"url:dojox/form/resources/_CheckedMultiSelectItem.html":'<div class="dijitReset ${baseClass}"\n	><input class="${baseClass}Box" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="checkBox" \n		data-dojo-attach-event="_onClick:_changeBox" type="${_type.type}" baseClass="${_type.baseClass}"\n	/><div class="dijitInline ${baseClass}Label" data-dojo-attach-point="labelNode" data-dojo-attach-event="onclick:_onClick"></div\n></div>\n',"url:dojox/form/resources/CheckedMultiSelect.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}"\n	><div data-dojo-attach-point="comboButtonNode"\n	></div\n	><div data-dojo-attach-point="selectNode" class="dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event="onmousedown:_onMouseDown,onclick:focus"\n		><select class="${baseClass}Select dojoxCheckedMultiSelectHidden" multiple="true" data-dojo-attach-point="containerNode,focusNode"></select\n		><div data-dojo-attach-point="wrapperDiv"></div\n	></div\n></div>'}}),define("dojox/form/CheckedMultiSelect",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/event","dojo/dom-geometry","dojo/dom-class","dojo/dom-construct","dojo/i18n","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/registry","dijit/Menu","dijit/MenuItem","dijit/Tooltip","dijit/form/_FormSelectWidget","dijit/form/ComboButton","dojo/text!dojox/form/resources/_CheckedMultiSelectMenuItem.html","dojo/text!dojox/form/resources/_CheckedMultiSelectItem.html","dojo/text!dojox/form/resources/CheckedMultiSelect.html","dojo/i18n!dojox/form/nls/CheckedMultiSelect","dijit/form/CheckBox"],function(declare,lang,array,event,domGeometry,domClass,domConstruct,i18n,Widget,TemplatedMixin,WidgetsInTemplateMixin,registry,Menu,MenuItem,Tooltip,FormSelectWidget,ComboButton,CheckedMultiSelectMenuItem,CheckedMultiSelectItem,CheckedMultiSelect,nlsCheckedMultiSelect){var formCheckedMultiSelectItem=declare("dojox.form._CheckedMultiSelectItem",[Widget,TemplatedMixin,WidgetsInTemplateMixin],{templateString:CheckedMultiSelectItem,baseClass:"dojoxMultiSelectItem",option:null,parent:null,disabled:!1,readOnly:!1,postMixInProperties:function(){this._type=this.parent.multiple?{type:"checkbox",baseClass:"dijitCheckBox"}:{type:"radio",baseClass:"dijitRadio"},this.disabled=this.option.disabled=this.option.disabled||!1,this.inherited(arguments)},postCreate:function(){this.inherited(arguments),this.labelNode.innerHTML=this.option.label},_changeBox:function(){if(this.get("disabled")||this.get("readOnly"))return;this.parent.multiple?this.option.selected=this.checkBox.get("value")&&!0:this.parent.set("value",this.option.value),this.parent._updateSelection(),this.parent.focus()},_onClick:function(e){this.get("disabled")||this.get("readOnly")?event.stop(e):this.checkBox._onClick(e)},_updateBox:function(){this.checkBox.set("value",this.option.selected)},_setDisabledAttr:function(value){this.disabled=value||this.option.disabled,this.checkBox.set("disabled",this.disabled),domClass.toggle(this.domNode,"dojoxMultiSelectDisabled",this.disabled)},_setReadOnlyAttr:function(value){this.checkBox.set("readOnly",value),this.readOnly=value}}),formCheckedMultiSelectMenu=declare("dojox.form._CheckedMultiSelectMenu",Menu,{multiple:!1,buildRendering:function(){this.inherited(arguments);var o=this.menuTableNode=this.domNode,n=this.domNode=domConstruct.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}});o.parentNode&&o.parentNode.replaceChild(n,o),domClass.remove(o,"dijitMenuTable"),n.className=o.className+" dojoxCheckedMultiSelectMenu",o.className="dijitReset dijitMenuTable",o.setAttribute("role","listbox"),n.setAttribute("role","presentation"),n.appendChild(o)},resize:function(mb){mb&&(domGeometry.setMarginBox(this.domNode,mb),"w"in mb&&(this.menuTableNode.style.width="100%"))},onClose:function(){this.inherited(arguments),this.menuTableNode&&(this.menuTableNode.style.width="")},onItemClick:function(item,evt){typeof this.isShowingNow=="undefined"&&this._markActive(),this.focusChild(item);if(item.disabled||item.readOnly)return!1;this.multiple||this.onExecute(),item.onClick(evt)}}),formCheckedMultiSelectMenuItem=declare("dojox.form._CheckedMultiSelectMenuItem",MenuItem,{templateString:CheckedMultiSelectMenuItem,option:null,parent:null,_iconClass:"",postMixInProperties:function(){this.parent.multiple?(this._iconClass="dojoxCheckedMultiSelectMenuCheckBoxItemIcon",this._type={type:"checkbox"}):(this._iconClass="",this._type={type:"hidden"}),this.disabled=this.option.disabled,this.checked=this.option.selected,this.label=this.option.label,this.readOnly=this.option.readOnly,this.inherited(arguments)},onChange:function(checked){},_updateBox:function(){domClass.toggle(this.domNode,"dojoxCheckedMultiSelectMenuItemChecked",!!this.option.selected),this.domNode.setAttribute("aria-checked",this.option.selected),this.inputNode.checked=this.option.selected,this.parent.multiple||domClass.toggle(this.domNode,"dijitSelectSelectedOption",!!this.option.selected)},_onClick:function(e){!this.disabled&&!this.readOnly&&(this.parent.multiple?(this.option.selected=!this.option.selected,this.parent.onChange(),this.onChange(this.option.selected)):this.option.selected||(array.forEach(this.parent.getChildren(),function(item){item.option.selected=!1}),this.option.selected=!0,this.parent.onChange(),this.onChange(this.option.selected))),this.inherited(arguments)}}),formCheckedMultiSelect=declare("dojox.form.CheckedMultiSelect",FormSelectWidget,{templateString:CheckedMultiSelect,baseClass:"dojoxCheckedMultiSelect",required:!1,invalidMessage:"$_unset_$",_message:"",dropDown:!1,labelText:"",tooltipPosition:[],setStore:function(store,selectedValue,fetchArgs){this.inherited(arguments);var setSelectedItems=function(items){var value=array.map(items,function(item){return item.value[0]});value.length&&this.set("value",value)};this.store.fetch({query:{selected:!0},onComplete:setSelectedItems,scope:this})},postMixInProperties:function(){this.inherited(arguments),this._nlsResources=i18n.getLocalization("dojox.form","CheckedMultiSelect",this.lang),this.invalidMessage=="$_unset_$"&&(this.invalidMessage=this._nlsResources.invalidMessage)},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value}this.dropDown&&(domClass.toggle(this.selectNode,"dojoxCheckedMultiSelectHidden"),this.dropDownMenu=new formCheckedMultiSelectMenu({id:this.id+"_menu",style:"display: none;",multiple:this.multiple,onChange:lang.hitch(this,"_updateSelection")}))},startup:function(){this.inherited(arguments),this.dropDown&&(this.dropDownButton=new ComboButton({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight},this.comboButtonNode))},_onMouseDown:function(e){event.stop(e)},validator:function(){return this.required?array.some(this.getOptions(),function(opt){return opt.selected&&opt.value!=null&&opt.value.toString().length!=0}):!0},validate:function(isFocused){Tooltip.hide(this.domNode);var isValid=this.isValid(isFocused);return isValid||this.displayMessage(this.invalidMessage),isValid},isValid:function(isFocused){return this.validator()},getErrorMessage:function(isFocused){return this.invalidMessage},displayMessage:function(message){Tooltip.hide(this.domNode),message&&Tooltip.show(message,this.domNode,this.tooltipPosition)},onAfterAddOptionItem:function(item,option){},_addOptionItem:function(option){var item;this.dropDown?(item=new formCheckedMultiSelectMenuItem({option:option,parent:this.dropDownMenu}),this.dropDownMenu.addChild(item)):(item=new formCheckedMultiSelectItem({option:option,parent:this}),this.wrapperDiv.appendChild(item.domNode)),this.onAfterAddOptionItem(item,option)},_refreshState:function(){this.validate(this.focused)},onChange:function(newValue){this._refreshState()},reset:function(){this.inherited(arguments),Tooltip.hide(this.domNode)},_updateSelection:function(){this.inherited(arguments),this._handleOnChange(this.value),array.forEach(this._getChildren(),function(item){item._updateBox()}),domConstruct.empty(this.containerNode);var self=this;array.forEach(this.value,function(item){var opt=domConstruct.create("option",{value:item,label:item,selected:"selected"});domConstruct.place(opt,self.containerNode)});if(this.dropDown&&this.dropDownButton){var i=0,label="";array.forEach(this.options,function(option){option.selected&&(i++,label=option.label)}),this.dropDownButton.set("label",this.multiple?lang.replace(this._nlsResources.multiSelectLabelText,{num:i}):label)}},_getChildren:function(){return this.dropDown?this.dropDownMenu.getChildren():array.map(this.wrapperDiv.childNodes,function(n){return registry.byNode(n)})},invertSelection:function(onChange){this.multiple&&(array.forEach(this.options,function(i){i.selected=!i.selected}),this._updateSelection())},_setDisabledAttr:function(value){this.inherited(arguments),this.dropDown&&this.dropDownButton.set("disabled",value),array.forEach(this._getChildren(),function(node){node&&node.set&&node.set("disabled",value)})},_setReadOnlyAttr:function(value){this.inherited(arguments),"readOnly"in this.attributeMap&&this._attrToDom("readOnly",value),this.readOnly=value,array.forEach(this._getChildren(),function(node){node&&node.set&&node.set("readOnly",value)})},uninitialize:function(){Tooltip.hide(this.domNode),array.forEach(this._getChildren(),function(child){child.destroyRecursive()}),this.inherited(arguments)}});return formCheckedMultiSelect})