//>>built
require({cache:{"url:dojox/form/resources/FileInputAuto.html":'<div class="dijitFileInput">\n	<input id="${id}" name="${name}" class="dijitFileInputReal" type="file" dojoAttachPoint="fileInput" />\n	<div class="dijitFakeInput" dojoAttachPoint="fakeNodeHolder">\n		<input class="dijitFileInputVisible" type="text" dojoAttachPoint="focusNode, inputNode" />\n		<div class="dijitInline dijitFileInputText" dojoAttachPoint="titleNode">${label}</div>\n		<div class="dijitInline dijitFileInputButton" dojoAttachPoint="cancelNode" dojoAttachEvent="onclick:reset">${cancelText}</div>\n	</div>\n	<div class="dijitProgressOverlay" dojoAttachPoint="overlay">&nbsp;</div>\n</div>\n'}}),define("dojox/form/FileInputAuto",["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/_base/window","dojo/dom-style","dojo/_base/sniff","dojo/text!./resources/FileInputAuto.html","dojox/form/FileInput","dojo/io/iframe"],function(declare,lang,fx,win,domStyle,has,template,FileInput,ioIframe){var FileInputAuto=declare("dojox.form.FileInputAuto",FileInput,{url:"",blurDelay:2e3,duration:500,uploadMessage:"Uploading ...",triggerEvent:"onblur",_sent:!1,templateString:template,onBeforeSend:function(){return{}},startup:function(){this._blurListener=this.connect(this.fileInput,this.triggerEvent,"_onBlur"),this._focusListener=this.connect(this.fileInput,"onfocus","_onFocus"),this.inherited(arguments)},_onFocus:function(){this._blurTimer&&clearTimeout(this._blurTimer)},_onBlur:function(){this._blurTimer&&clearTimeout(this._blurTimer),this._sent||(this._blurTimer=setTimeout(lang.hitch(this,"_sendFile"),this.blurDelay))},setMessage:function(title){this.overlay.removeChild(this.overlay.firstChild),this.overlay.appendChild(document.createTextNode(title))},_sendFile:function(e){if(this._sent||this._sending||!this.fileInput.value)return;this._sending=!0,domStyle.set(this.fakeNodeHolder,"display","none"),domStyle.set(this.overlay,{opacity:0,display:"block"}),this.setMessage(this.uploadMessage),fx.fadeIn({node:this.overlay,duration:this.duration}).play();var _newForm;has("ie")<9||has("ie")&&has("quirks")?(_newForm=document.createElement('<form enctype="multipart/form-data" method="post">'),_newForm.encoding="multipart/form-data"):(_newForm=document.createElement("form"),_newForm.setAttribute("enctype","multipart/form-data")),_newForm.appendChild(this.fileInput),win.body().appendChild(_newForm),ioIframe.send({url:this.url,form:_newForm,handleAs:"json",handle:lang.hitch(this,"_handleSend"),content:this.onBeforeSend()})},_handleSend:function(data,ioArgs){this.overlay.removeChild(this.overlay.firstChild),this._sent=!0,this._sending=!1,domStyle.set(this.overlay,{opacity:0,border:"none",background:"none"}),this.overlay.style.backgroundImage="none",this.fileInput.style.display="none",this.fakeNodeHolder.style.display="none",fx.fadeIn({node:this.overlay,duration:this.duration}).play(250),this.disconnect(this._blurListener),this.disconnect(this._focusListener),win.body().removeChild(ioArgs.args.form),this.fileInput=null,this.onComplete(data,ioArgs,this)},reset:function(e){this._blurTimer&&clearTimeout(this._blurTimer),this.disconnect(this._blurListener),this.disconnect(this._focusListener),this.overlay.style.display="none",this.fakeNodeHolder.style.display="",this.inherited(arguments),this._sent=!1,this._sending=!1,this._blurListener=this.connect(this.fileInput,this.triggerEvent,"_onBlur"),this._focusListener=this.connect(this.fileInput,"onfocus","_onFocus")},onComplete:function(data,ioArgs,widgetRef){}});return declare("dojox.form.FileInputBlind",FileInputAuto,{startup:function(){this.inherited(arguments),this._off=domStyle.get(this.inputNode,"width"),this.inputNode.style.display="none",this._fixPosition()},_fixPosition:function(){has("ie")?domStyle.set(this.fileInput,"width","1px"):domStyle.set(this.fileInput,"left","-"+this._off+"px")},reset:function(e){this.inherited(arguments),this._fixPosition()}}),FileInputAuto})