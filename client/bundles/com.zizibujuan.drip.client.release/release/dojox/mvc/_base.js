//>>built
define("dojox/mvc/_base",["dojo/_base/kernel","dojo/_base/lang","./getStateful","./StatefulModel","./Bind","./_DataBindingMixin","./_patches"],function(kernel,lang,getStateful,StatefulModel){kernel.experimental("dojox.mvc");var mvc=lang.getObject("dojox.mvc",!0);return mvc.newStatefulModel=function(args){if(args.data)return getStateful(args.data,StatefulModel.getStatefulOptions);if(args.store&&lang.isFunction(args.store.query)){var model,result=args.store.query(args.query);return result.then?result.then(function(data){return model=getStateful(data,StatefulModel.getStatefulOptions),model.store=args.store,model}):(model=getStateful(result,StatefulModel.getStatefulOptions),model.store=args.store,model)}},mvc})