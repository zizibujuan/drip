//>>built
require({cache:{"url:dojox/widget/MultiSelectCalendar/MultiSelectCalendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" dojoAttachEvent="onkeydown: _onKeyDown" aria-labelledby="${id}_year">\n	<thead>\n		<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="decrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n				<span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n			</th>\n			<th class=\'dijitReset\' colspan="5">\n				<div dojoType="dijit.form.DropDownButton" dojoAttachPoint="monthDropDownButton"\n					id="${id}_mddb" tabIndex="-1">\n				</div>\n			</th>\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="incrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n				<span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n			</th>\n		</tr>\n		<tr>\n			<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel"></span></th>\n		</tr>\n	</thead>\n	<tbody dojoAttachEvent="onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp" class="dijitReset dijitCalendarBodyContainer">\n		<tr class="dijitReset dijitCalendarWeekTemplate" role="row">\n			<td class="dijitReset dijitCalendarDateTemplate" role="gridcell"><span class="dijitCalendarDateLabel"></span></td>\n		</tr>\n	</tbody>\n	<tfoot class="dijitReset dijitCalendarYearContainer">\n		<tr>\n			<td class=\'dijitReset\' valign="top" colspan="7">\n				<h3 class="dijitCalendarYearLabel">\n					<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\n					<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" id="${id}_year"></span>\n					<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\n				</h3>\n			</td>\n		</tr>\n	</tfoot>\n</table>'}}),define("dojox/widget/MultiSelectCalendar",["dojo/main","dijit","dojo/text!./MultiSelectCalendar/MultiSelectCalendar.html","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_CssStateMixin","dijit/form/DropDownButton","dijit/typematic"],function(dojo,dijit,template,supplemental,date,locale,_Widget,_TemplatedMixin,_WidgetsInTemplateMixin,_CssStateMixin,DropDownButton,typematic){return dojo.experimental("dojox.widget.MultiSelectCalendar"),dojo.declare("dojox.widget.MultiSelectCalendar",[_Widget,_TemplatedMixin,_WidgetsInTemplateMixin,_CssStateMixin],{templateString:template,widgetsInTemplate:!0,value:{},datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",returnIsoRanges:!1,currentFocus:new Date,baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},_areValidDates:function(value){for(var selDate in this.value){valid=selDate&&!isNaN(selDate)&&typeof value=="object"&&selDate.toString()!=this.constructor.prototype.value.toString();if(!valid)return!1}return!0},_getValueAttr:function(){return this.returnIsoRanges?(datesWithRanges=this._returnDatesWithIsoRanges(this._sort()),datesWithRanges):this._sort()},_setValueAttr:function(value,priorityChange){this.value={};if(dojo.isArray(value))dojo.forEach(value,function(element,i){var slashPosition=element.indexOf("/");if(slashPosition==-1)this.value[element]=1;else{var dateA=new dojo.date.stamp.fromISOString(element.substr(0,10)),dateB=new dojo.date.stamp.fromISOString(element.substr(11,10));this.toggleDate(dateA,[],[]),dateA-dateB>0?this._addToRangeRTL(dateA,dateB,[],[]):this._addToRangeLTR(dateA,dateB,[],[])}},this),value.length>0&&this.focusOnLastDate(value[value.length-1]);else{value&&(value=new this.dateClassObj(value));if(this._isValidDate(value)){value.setHours(1,0,0,0);if(!this.isDisabledDate(value,this.lang)){dateIndex=dojo.date.stamp.toISOString(value).substring(0,10),this.value[dateIndex]=1,this.set("currentFocus",value);if(priorityChange||typeof priorityChange=="undefined")this.onChange(this.get("value")),this.onValueSelected(this.get("value"))}}}this._populateGrid()},focusOnLastDate:function(lastElement){var slashPositionLastDate=lastElement.indexOf("/"),dateA,dateB;slashPositionLastDate==-1?lastDate=lastElement:(dateA=new dojo.date.stamp.fromISOString(lastElement.substr(0,10)),dateB=new dojo.date.stamp.fromISOString(lastElement.substr(11,10)),dateA-dateB>0?lastDate=dateA:lastDate=dateB),this.set("currentFocus",lastDate)},_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString()},_setText:function(node,text){while(node.firstChild)node.removeChild(node.firstChild);node.appendChild(dojo.doc.createTextNode(text))},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var firstDay=month.getDay(),daysInMonth=this.dateFuncObj.getDaysInMonth(month),daysInPreviousMonth=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(month,"month",-1)),today=new this.dateClassObj,dayOffset=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dayOffset>firstDay&&(dayOffset-=7),this.listOfNodes=dojo.query(".dijitCalendarDateTemplate",this.domNode),this.listOfNodes.forEach(function(template,i){i+=dayOffset;var date=new this.dateClassObj(month),number,clazz="dijitCalendar",adj=0;i<firstDay?(number=daysInPreviousMonth-firstDay+i+1,adj=-1,clazz+="Previous"):i>=firstDay+daysInMonth?(number=i-firstDay-daysInMonth+1,adj=1,clazz+="Next"):(number=i-firstDay+1,clazz+="Current"),adj&&(date=this.dateFuncObj.add(date,"month",adj)),date.setDate(number),this.dateFuncObj.compare(date,today,"date")||(clazz="dijitCalendarCurrentDate "+clazz),dateIndex=dojo.date.stamp.toISOString(date).substring(0,10),this.isDisabledDate(date,this.lang)||this._isSelectedDate(date,this.lang)&&(this.value[dateIndex]?clazz="dijitCalendarSelectedDate "+clazz:clazz=clazz.replace("dijitCalendarSelectedDate ","")),this._isSelectedDate(date,this.lang)&&(clazz="dijitCalendarBrowsingDate "+clazz),this.isDisabledDate(date,this.lang)&&(clazz="dijitCalendarDisabledDate "+clazz);var clazz2=this.getClassForDate(date,this.lang);clazz2&&(clazz=clazz2+" "+clazz),template.className=clazz+"Month dijitCalendarDateTemplate",template.dijitDateValue=date.valueOf(),dojo.attr(template,"dijitDateValue",date.valueOf());var label=dojo.query(".dijitCalendarDateLabel",template)[0],text=date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate();this._setText(label,text)},this);var monthNames=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.monthDropDownButton.dropDown.set("months",monthNames),this.monthDropDownButton.containerNode.innerHTML=(dojo.isIE==6?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+monthNames[month.getMonth()]+"</div>";var y=month.getFullYear()-1,d=new this.dateClassObj;dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++),this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("currentFocus",new this.dateClassObj,!1)},constructor:function(args){var dateClass=args.datePackage&&args.datePackage!="dojo.date"?args.datePackage+".Date":"Date";this.dateClassObj=dojo.getObject(dateClass,!1),this.datePackage=args.datePackage||this.datePackage,this.dateFuncObj=dojo.getObject(this.datePackage,!1),this.dateLocaleModule=dojo.getObject(this.datePackage+".locale",!1)},buildRendering:function(){this.inherited(arguments),dojo.setSelectable(this.domNode,!1);var cloneClass=dojo.hitch(this,function(clazz,n){var template=dojo.query(clazz,this.domNode)[0];for(var i=0;i<n;i++)template.parentNode.appendChild(template.cloneNode(!0))});cloneClass(".dijitCalendarDayLabelTemplate",6),cloneClass(".dijitCalendarDateTemplate",6),cloneClass(".dijitCalendarWeekTemplate",5);var dayNames=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),dayOffset=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(label,i){this._setText(label,dayNames[(i+dayOffset)%7])},this);var dateObj=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new dojox.widget._MonthDropDown({id:this.id+"_mdd",onChange:dojo.hitch(this,"_onMonthSelect")}),this.set("currentFocus",dateObj,!1);var _this=this,typematic=function(nodeProp,dateProp,adj){_this._connects.push(dijit.typematic.addMouseListener(_this[nodeProp],_this,function(count){count>=0&&_this._adjustDisplay(dateProp,adj)},.8,500))};typematic("incrementMonth","month",1),typematic("decrementMonth","month",-1),typematic("nextYearLabelNode","year",1),typematic("previousYearLabelNode","year",-1)},_adjustDisplay:function(part,amount){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,amount))},_setCurrentFocusAttr:function(date,forceFocus){var oldFocus=this.currentFocus,oldCell=oldFocus?dojo.query("[dijitDateValue="+oldFocus.valueOf()+"]",this.domNode)[0]:null;date=new this.dateClassObj(date),date.setHours(1,0,0,0),this._set("currentFocus",date);var currentMonth=dojo.date.stamp.toISOString(date).substring(0,7);currentMonth!=this.previousMonth&&(this._populateGrid(),this.previousMonth=currentMonth);var newCell=dojo.query("[dijitDateValue="+date.valueOf()+"]",this.domNode)[0];newCell.setAttribute("tabIndex",this.tabIndex),(this._focused||forceFocus)&&newCell.focus(),oldCell&&oldCell!=newCell&&(dojo.isWebKit?oldCell.setAttribute("tabIndex","-1"):oldCell.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onMonthSelect:function(newMonth){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",newMonth-this.currentFocus.getMonth()),this._populateGrid()},toggleDate:function(dateToToggle,selectedDates,unselectedDates){var dateIndex=dojo.date.stamp.toISOString(dateToToggle).substring(0,10);this.value[dateIndex]?this.unselectDate(dateToToggle,unselectedDates):this.selectDate(dateToToggle,selectedDates)},selectDate:function(dateToSelect,selectedDates){var node=this._getNodeByDate(dateToSelect),clazz=node.className,dateIndex=dojo.date.stamp.toISOString(dateToSelect).substring(0,10);this.value[dateIndex]=1,selectedDates.push(dateIndex),clazz="dijitCalendarSelectedDate "+clazz,node.className=clazz},unselectDate:function(dateToUnselect,unselectedDates){var node=this._getNodeByDate(dateToUnselect),clazz=node.className,dateIndex=dojo.date.stamp.toISOString(dateToUnselect).substring(0,10);delete this.value[dateIndex],unselectedDates.push(dateIndex),clazz=clazz.replace("dijitCalendarSelectedDate ",""),node.className=clazz},_getNodeByDate:function(dateNode){var firstDate=new this.dateClassObj(this.listOfNodes[0].dijitDateValue),difference=Math.abs(dojo.date.difference(firstDate,dateNode,"day"));return this.listOfNodes[difference]},_onDayClick:function(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode);node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")&&(value=new this.dateClassObj(node.dijitDateValue),this.rangeJustSelected?(this.rangeJustSelected=!1,this.set("currentFocus",value)):(this.toggleDate(value,[],[]),this.previouslySelectedDay=value,this.set("currentFocus",value),this.onValueSelected([dojo.date.stamp.toISOString(value).substring(0,10)])))},_onDayMouseOver:function(evt){var node=dojo.hasClass(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)&&(dojo.addClass(node,"dijitCalendarHoveredDate"),this._currentNode=node)},_setEndRangeAttr:function(value){value=new this.dateClassObj(value),value.setHours(1),this.endRange=value},_getEndRangeAttr:function(){var value=new this.dateClassObj(this.endRange);return value.setHours(0,0,0,0),value.getDate()<this.endRange.getDate()&&(value=this.dateFuncObj.add(value,"hour",1)),value},_onDayMouseOut:function(evt){if(!this._currentNode)return;if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode)return;var cls="dijitCalendarHoveredDate";dojo.hasClass(this._currentNode,"dijitCalendarActiveDate")&&(cls+=" dijitCalendarActiveDate"),dojo.removeClass(this._currentNode,cls),this._currentNode=null},_onDayMouseDown:function(evt){var node=evt.target.parentNode;node&&node.dijitDateValue&&(dojo.addClass(node,"dijitCalendarActiveDate"),this._currentNode=node),evt.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",node.dijitDateValue),this._selectRange()):(this.selectingRange=!1,this.previousRangeStart=null,this.previousRangeEnd=null)},_onDayMouseUp:function(evt){var node=evt.target.parentNode;node&&node.dijitDateValue&&dojo.removeClass(node,"dijitCalendarActiveDate")},handleKey:function(evt){var dk=dojo.keys,increment=-1,interval,newValue=this.currentFocus;switch(evt.keyCode){case dk.RIGHT_ARROW:increment=1;case dk.LEFT_ARROW:interval="day",this.isLeftToRight()||(increment*=-1);break;case dk.DOWN_ARROW:increment=1;case dk.UP_ARROW:interval="week";break;case dk.PAGE_DOWN:increment=1;case dk.PAGE_UP:interval=evt.ctrlKey||evt.altKey?"year":"month";break;case dk.END:newValue=this.dateFuncObj.add(newValue,"month",1),interval="day";case dk.HOME:newValue=new this.dateClassObj(newValue),newValue.setDate(1);break;case dk.ENTER:case dk.SPACE:evt.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",newValue),this._selectRange()):(this.selectingRange=!1,this.toggleDate(newValue,[],[]),this.previouslySelectedDay=newValue,this.previousRangeStart=null,this.previousRangeEnd=null,this.onValueSelected([dojo.date.stamp.toISOString(newValue).substring(0,10)]));break;default:return!0}return interval&&(newValue=this.dateFuncObj.add(newValue,interval,increment)),this.set("currentFocus",newValue),!1},_onKeyDown:function(evt){this.handleKey(evt)||dojo.stopEvent(evt)},_removeFromRangeLTR:function(beginning,end,selectedDates,unselectedDates){difference=Math.abs(dojo.date.difference(beginning,end,"day"));for(var i=0;i<=difference;i++){var nextDay=dojo.date.add(beginning,"day",i);this.toggleDate(nextDay,selectedDates,unselectedDates)}this.previousRangeEnd==null?this.previousRangeEnd=end:dojo.date.compare(end,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=end),this.previousRangeStart==null?this.previousRangeStart=end:dojo.date.compare(end,this.previousRangeStart,"date")>0&&(this.previousRangeStart=end),this.previouslySelectedDay=dojo.date.add(nextDay,"day",1)},_removeFromRangeRTL:function(beginning,end,selectedDates,unselectedDates){difference=Math.abs(dojo.date.difference(beginning,end,"day"));for(var i=0;i<=difference;i++){var nextDay=dojo.date.add(beginning,"day",-i);this.toggleDate(nextDay,selectedDates,unselectedDates)}this.previousRangeEnd==null?this.previousRangeEnd=end:dojo.date.compare(end,this.previousRangeEnd,"date")<0&&(this.previousRangeEnd=end),this.previousRangeStart==null?this.previousRangeStart=end:dojo.date.compare(end,this.previousRangeStart,"date")<0&&(this.previousRangeStart=end),this.previouslySelectedDay=dojo.date.add(nextDay,"day",-1)},_addToRangeRTL:function(beginning,end,selectedDates,unselectedDates){difference=Math.abs(dojo.date.difference(beginning,end,"day"));for(var i=1;i<=difference;i++){var nextDay=dojo.date.add(beginning,"day",-i);this.toggleDate(nextDay,selectedDates,unselectedDates)}this.previousRangeStart==null?this.previousRangeStart=end:dojo.date.compare(end,this.previousRangeStart,"date")<0&&(this.previousRangeStart=end),this.previousRangeEnd==null?this.previousRangeEnd=beginning:dojo.date.compare(beginning,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=beginning),this.previouslySelectedDay=nextDay},_addToRangeLTR:function(beginning,end,selectedDates,unselectedDates){difference=Math.abs(dojo.date.difference(beginning,end,"day"));for(var i=1;i<=difference;i++){var nextDay=dojo.date.add(beginning,"day",i);this.toggleDate(nextDay,selectedDates,unselectedDates)}this.previousRangeStart==null?this.previousRangeStart=beginning:dojo.date.compare(beginning,this.previousRangeStart,"date")<0&&(this.previousRangeStart=beginning),this.previousRangeEnd==null?this.previousRangeEnd=end:dojo.date.compare(end,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=end),this.previouslySelectedDay=nextDay},_selectRange:function(){var selectedDates=[],unselectedDates=[],beginning=this.previouslySelectedDay,end=this.get("endRange");!this.previousRangeStart&&!this.previousRangeEnd?removingFromRange=!1:dojo.date.compare(end,this.previousRangeStart,"date")<0||dojo.date.compare(end,this.previousRangeEnd,"date")>0?removingFromRange=!1:removingFromRange=!0,removingFromRange==1?dojo.date.compare(end,beginning,"date")<0?this._removeFromRangeRTL(beginning,end,selectedDates,unselectedDates):this._removeFromRangeLTR(beginning,end,selectedDates,unselectedDates):dojo.date.compare(end,beginning,"date")<0?this._addToRangeRTL(beginning,end,selectedDates,unselectedDates):this._addToRangeLTR(beginning,end,selectedDates,unselectedDates),selectedDates.length>0&&this.onValueSelected(selectedDates),unselectedDates.length>0&&this.onValueUnselected(unselectedDates),this.rangeJustSelected=!0},onValueSelected:function(dates){},onValueUnselected:function(dates){},onChange:function(date){},_isSelectedDate:function(dateObject,locale){return dateIndex=dojo.date.stamp.toISOString(dateObject).substring(0,10),this.value[dateIndex]},isDisabledDate:function(dateObject,locale){},getClassForDate:function(dateObject,locale){},_sort:function(){if(this.value=={})return[];var selectedDates=[];for(var selDate in this.value)selectedDates.push(selDate);return selectedDates.sort(function(a,b){var dateA=new Date(a),dateB=new Date(b);return dateA-dateB}),selectedDates},_returnDatesWithIsoRanges:function(selectedDates){var returnDates=[];if(selectedDates.length>1){var weHaveRange=!1,rangeCount=0,startRange=null,lastDayRange=null,previousDate=dojo.date.stamp.fromISOString(selectedDates[0]);for(var i=1;i<selectedDates.length+1;i++)currentDate=dojo.date.stamp.fromISOString(selectedDates[i]),weHaveRange?(difference=Math.abs(dojo.date.difference(previousDate,currentDate,"day")),difference==1?lastDayRange=currentDate:(range=dojo.date.stamp.toISOString(startRange).substring(0,10)+"/"+dojo.date.stamp.toISOString(lastDayRange).substring(0,10),returnDates.push(range),weHaveRange=!1)):(difference=Math.abs(dojo.date.difference(previousDate,currentDate,"day")),difference==1?(weHaveRange=!0,startRange=previousDate,lastDayRange=currentDate):returnDates.push(dojo.date.stamp.toISOString(previousDate).substring(0,10))),previousDate=currentDate;return returnDates}return selectedDates}}),dojo.declare("dojox.widget._MonthDropDown",[_Widget,_TemplatedMixin,_WidgetsInTemplateMixin],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(months){this.domNode.innerHTML=dojo.map(months,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":""}).join("")},_onClick:function(evt){this.onChange(dojo.attr(evt.target,"month"))},onChange:function(month){},_onMenuHover:function(evt){dojo.toggleClass(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover")}}),dojox.widget.MultiSelectCalendar})