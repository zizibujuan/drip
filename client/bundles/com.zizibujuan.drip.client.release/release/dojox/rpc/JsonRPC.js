//>>built
define("dojox/rpc/JsonRPC",["dojo","dojox","dojox/rpc/Service"],function(dojo,dojox){function jsonRpcEnvelope(version){return{serialize:function(smd,method,data,options){var d={id:this._requestId++,method:method.name,params:data};return version&&(d.jsonrpc=version),{data:dojo.toJson(d),handleAs:"json",contentType:"application/json",transport:"POST"}},deserialize:function(obj){"Error"==obj.name&&(obj=dojo.fromJson(obj.responseText));if(obj.error){var e=new Error(obj.error.message||obj.error);return e._rpcErrorObject=obj.error,e}return obj.result}}}dojox.rpc.envelopeRegistry.register("JSON-RPC-1.0",function(str){return str=="JSON-RPC-1.0"},dojo.mixin({namedParams:!1},jsonRpcEnvelope())),dojox.rpc.envelopeRegistry.register("JSON-RPC-2.0",function(str){return str=="JSON-RPC-2.0"},jsonRpcEnvelope("2.0"))})