//>>built
define("dojox/data/CssClassStore",["dojo/_base/declare","dojox/data/CssRuleStore"],function(declare,CssRuleStore){return declare("dojox.data.CssClassStore",CssRuleStore,{_labelAttribute:"class",_idAttribute:"class",_cName:"dojox.data.CssClassStore",getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0}},getAttributes:function(item){return this._assertIsItem(item),["class","classSans"]},getValue:function(item,attribute,defaultValue){var values=this.getValues(item,attribute);return values&&values.length>0?values[0]:defaultValue},getValues:function(item,attribute){this._assertIsItem(item),this._assertIsAttribute(attribute);var value=[];return attribute==="class"?value=[item.className]:attribute==="classSans"&&(value=[item.className.replace(/\./g,"")]),value},_handleRule:function(rule,styleSheet,href){var obj={},s=rule.selectorText.split(" ");for(var j=0;j<s.length;j++){var tmp=s[j],first=tmp.indexOf(".");if(tmp&&tmp.length>0&&first!==-1){var last=tmp.indexOf(",")||tmp.indexOf("[");tmp=tmp.substring(first,last!==-1&&last>first?last:tmp.length),obj[tmp]=!0}}for(var key in obj)if(!this._allItems[key]){var item={};item.className=key,item[this._storeRef]=this,this._allItems[key]=item}},_handleReturn:function(){var _inProgress=[],items={};for(var i in this._allItems)items[i]=this._allItems[i];var requestInfo;while(this._pending.length)requestInfo=this._pending.pop(),requestInfo.request._items=items,_inProgress.push(requestInfo);while(_inProgress.length)requestInfo=_inProgress.pop(),requestInfo.fetch?this._handleFetchReturn(requestInfo.request):this._handleFetchByIdentityReturn(requestInfo.request)},_handleFetchByIdentityReturn:function(request){var items=request._items,item=items[request.identity];this.isItem(item)||(item=null);if(request.onItem){var scope=request.scope||dojo.global;request.onItem.call(scope,item)}},getIdentity:function(item){return this._assertIsItem(item),this.getValue(item,this._idAttribute)},getIdentityAttributes:function(item){return this._assertIsItem(item),[this._idAttribute]},fetchItemByIdentity:function(request){return request=request||{},request.store||(request.store=this),this._pending&&this._pending.length>0?this._pending.push({request:request}):(this._pending=[{request:request}],this._fetch(request)),request}})})