//>>built
define("dojox/dtl/utils/date",["dojo/_base/lang","dojox/date/php","../_base"],function(lang,ddp,dd){return lang.getObject("dojox.dtl.utils.date",!0),dd.utils.date.DateFormat=ddp.DateFormat,lang.extend(dd.utils.date.DateFormat,ddp.DateFormat.prototype,{f:function(){return this.date.getMinutes()?this.g()+":"+this.i():this.g()},N:function(){return dojox.dtl.utils.date._months_ap[this.date.getMonth()]},P:function(){return!this.date.getMinutes()&&!this.date.getHours()?"midnight":!this.date.getMinutes()&&this.date.getHours()==12?"noon":this.f()+" "+this.a()}}),lang.mixin(dojox.dtl.utils.date,{format:function(date,format){var df=new dojox.dtl.utils.date.DateFormat(format);return df.format(date)},timesince:function(d,now){d instanceof Date||(d=new Date(d.year,d.month,d.day)),now||(now=new Date);var delta=Math.abs(now.getTime()-d.getTime());for(var i=0,chunk;chunk=dojox.dtl.utils.date._chunks[i];i++){var count=Math.floor(delta/chunk[0]);if(count)break}return count+" "+chunk[1](count)},_chunks:[[31536e6,function(n){return n==1?"year":"years"}],[2592e6,function(n){return n==1?"month":"months"}],[6048e5,function(n){return n==1?"week":"weeks"}],[864e5,function(n){return n==1?"day":"days"}],[36e5,function(n){return n==1?"hour":"hours"}],[6e4,function(n){return n==1?"minute":"minutes"}]],_months_ap:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]}),dojox.dtl.utils.date})