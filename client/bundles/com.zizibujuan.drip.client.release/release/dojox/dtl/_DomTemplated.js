//>>built
define("dojox/dtl/_DomTemplated",["dojo/dom-construct",".","./contrib/dijit","./render/dom","dojo/cache","dijit/_TemplatedMixin"],function(domConstruct,dtl,ddcd,ddrd,cache,TemplatedMixin){return dtl._DomTemplated=function(){},dtl._DomTemplated.prototype={_dijitTemplateCompat:!1,buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");if(!this._render){var old=ddcd.widgetsInTemplate;ddcd.widgetsInTemplate=this.widgetsInTemplate,this.template=this.template&&this.template!==!0?this.template:this._getCachedTemplate(this.templatePath,this.templateString),this._render=new ddrd.Render(this.domNode,this.template),ddcd.widgetsInTemplate=old}var context=this._getContext();this._created||delete context._getter,this.render(context),this.domNode=this.template.getRootNode(),this.srcNodeRef&&this.srcNodeRef.parentNode&&(domConstruct.destroy(this.srcNodeRef),delete this.srcNodeRef)},setTemplate:function(template,context){dojox.dtl.text._isTemplate(template)?this.template=this._getCachedTemplate(null,template):this.template=this._getCachedTemplate(template),this.render(context)},render:function(context,tpl){tpl&&(this.template=tpl),this._render.render(this._getContext(context),this.template)},_getContext:function(context){return context instanceof dojox.dtl.Context||(context=!1),context=context||new dojox.dtl.Context(this),context.setThis(this),context},_getCachedTemplate:function(templatePath,templateString){this._templates||(this._templates={}),templateString||(templateString=cache(templatePath,{sanitize:!0}));var key=templateString,tmplts=this._templates;return tmplts[key]?tmplts[key]:tmplts[key]=new dojox.dtl.DomTemplate(TemplatedMixin.getCachedTemplate(templateString,!0))}},dtl._DomTemplated})