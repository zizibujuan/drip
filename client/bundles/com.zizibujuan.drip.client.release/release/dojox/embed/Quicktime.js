//>>built
define("dojox/embed/Quicktime",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/domReady!"],function(dojo,lang,has,windowUtil,domUtil,domConstruct){function prep(kwArgs){return kwArgs=dojo.mixin(lang.clone(__def__),kwArgs||{}),"path"in kwArgs||!!kwArgs.testing?(kwArgs.testing&&(kwArgs.path=""),"id"in kwArgs||(kwArgs.id=keyBase+keyCount++),kwArgs):(0,null)}var qtMarkup,qtVersion={major:0,minor:0,rev:0},installed,__def__={width:320,height:240,redirect:null},keyBase="dojox-embed-quicktime-",keyCount=0,getQTMarkup='This content requires the <a href="http://www.apple.com/quicktime/download/" title="Download and install QuickTime.">QuickTime plugin</a>.',embed=dojo.getObject("dojox.embed",!0);has("ie")?(installed=function(){try{var o=new ActiveXObject("QuickTimeCheckObject.QuickTimeCheck.1");if(o!==undefined){var v=o.QuickTimeVersion.toString(16);function p(i){return v.substring(i,i+1)-0||0}return qtVersion={major:p(0),minor:p(1),rev:p(2)},o.IsQuickTimeAvailable(0)}}catch(e){}return!1}(),qtMarkup=function(kwArgs){if(!installed)return{id:null,markup:getQTMarkup};kwArgs=prep(kwArgs);if(!kwArgs)return null;var s='<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0" id="'+kwArgs.id+'" '+'width="'+kwArgs.width+'" '+'height="'+kwArgs.height+'">'+'<param name="src" value="'+kwArgs.path+'"/>';for(var p in kwArgs.params||{})s+='<param name="'+p+'" value="'+kwArgs.params[p]+'"/>';return s+="</object>",{id:kwArgs.id,markup:s}}):(installed=function(){for(var i=0,p=navigator.plugins,l=p.length;i<l;i++)if(p[i].name.indexOf("QuickTime")>-1)return!0;return!1}(),qtMarkup=function(kwArgs){if(!installed)return{id:null,markup:getQTMarkup};kwArgs=prep(kwArgs);if(!kwArgs)return null;var s='<embed type="video/quicktime" src="'+kwArgs.path+'" '+'id="'+kwArgs.id+'" '+'name="'+kwArgs.id+'" '+'pluginspage="www.apple.com/quicktime/download" '+'enablejavascript="true" '+'width="'+kwArgs.width+'" '+'height="'+kwArgs.height+'"';for(var p in kwArgs.params||{})s+=" "+p+'="'+kwArgs.params[p]+'"';return s+="></embed>",{id:kwArgs.id,markup:s}});var Quicktime=function(kwArgs,node){return Quicktime.place(kwArgs,node)};dojo.mixin(Quicktime,{minSupported:6,available:installed,supported:installed,version:qtVersion,initialized:!1,onInitialize:function(){Quicktime.initialized=!0},place:function(kwArgs,node){var o=qtMarkup(kwArgs);(node=domUtil.byId(node))||(node=domConstruct.create("div",{id:o.id+"-container"},windowUtil.body()));if(o){node.innerHTML=o.markup;if(o.id)return has("ie")?dom.byId(o.id):document[o.id]}return null}});if(!has("ie")){var id="-qt-version-test",o=qtMarkup({testing:!0,width:4,height:4}),c=10,top="-1000px",widthHeight="1px";function getVer(){setTimeout(function(){var qt=document[o.id],n=domUtil.byId(id);if(qt)try{var v=qt.GetQuickTimeVersion().split(".");Quicktime.version={major:parseInt(v[0]||0),minor:parseInt(v[1]||0),rev:parseInt(v[2]||0)},(Quicktime.supported=v[0])&&Quicktime.onInitialize(),c=0}catch(e){c--&&getVer()}!c&&n&&domConstruct.destroy(n)},20)}domConstruct.create("div",{innerHTML:o.markup,id:id,style:{top:top,left:0,width:widthHeight,height:widthHeight,overflow:"hidden",position:"absolute"}},windowUtil.body()),getVer()}else has("ie")&&installed&&setTimeout(function(){Quicktime.onInitialize()},10);return lang.setObject("dojox.embed.Quicktime",Quicktime),Quicktime})