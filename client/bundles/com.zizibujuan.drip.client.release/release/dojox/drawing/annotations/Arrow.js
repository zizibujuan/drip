//>>built
define("dojox/drawing/annotations/Arrow",["../util/oo","../stencil/Path"],function(oo,Path){return oo.declare(Path,function(options){this.stencil.connectMult([[this.stencil,"select",this,"select"],[this.stencil,"deselect",this,"deselect"],[this.stencil,"render",this,"render"],[this.stencil,"onDelete",this,"destroy"]]),this.connect("onBeforeRender",this,function(){var o=this.stencil.points[this.idx1],c=this.stencil.points[this.idx2];this.stencil.getRadius()>=this.minimumSize?this.points=this.arrowHead(c.x,c.y,o.x,o.y,this.style):this.points=[]})},{idx1:0,idx2:1,subShape:!0,minimumSize:30,arrowHead:function(x1,y1,x2,y2,style){var obj={start:{x:x1,y:y1},x:x2,y:y2},angle=this.util.angle(obj),lineLength=this.util.length(obj),al=style.arrows.length,aw=style.arrows.width/2;lineLength<al&&(al=lineLength/2);var p1=this.util.pointOnCircle(x2,y2,-al,angle-aw),p2=this.util.pointOnCircle(x2,y2,-al,angle+aw);return[{x:x2,y:y2},p1,p2]}})})