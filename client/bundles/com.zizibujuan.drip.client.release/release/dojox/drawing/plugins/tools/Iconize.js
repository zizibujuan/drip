//>>built
define("dojox/drawing/plugins/tools/Iconize",["dojo","../../util/oo","../_Plugin","../../manager/_registry"],function(dojo,oo,Plugin,registry){var Iconize=oo.declare(Plugin,function(options){},{onClick:function(){var item;for(var nm in this.stencils.stencils){0;if(this.stencils.stencils[nm].shortType=="path"){item=this.stencils.stencils[nm];break}}item&&(0,this.makeIcon(item.points))},makeIcon:function(p){var rnd=function(n){return Number(n.toFixed(1))},x=1e4,y=1e4;p.forEach(function(pt){pt.x!==undefined&&!isNaN(pt.x)&&(x=Math.min(x,pt.x),y=Math.min(y,pt.y))});var xmax=0,ymax=0;p.forEach(function(pt){pt.x!==undefined&&!isNaN(pt.x)&&(pt.x=rnd(pt.x-x),pt.y=rnd(pt.y-y),xmax=Math.max(xmax,pt.x),ymax=Math.max(ymax,pt.y))}),0;var s=60,m=20;p.forEach(function(pt){pt.x=rnd(pt.x/xmax)*s+m,pt.y=rnd(pt.y/ymax)*s+m});var txt="[\n";dojo.forEach(p,function(pt,i){txt+="{	",pt.t&&(txt+="t:'"+pt.t+"'"),pt.x!==undefined&&!isNaN(pt.x)&&(pt.t&&(txt+=", "),txt+="x:"+pt.x+",		y:"+pt.y),txt+="	}",i!=p.length-1&&(txt+=","),txt+="\n"}),txt+="]",0;var n=dojo.byId("data");n&&(n.value=txt)}});return Iconize.setup={name:"dojox.drawing.plugins.tools.Iconize",tooltip:"Iconize Tool",iconClass:"iconPan"},dojo.setObject("dojox.drawing.plugins.tools.Iconize",Iconize),registry.register(Iconize.setup,"plugin"),Iconize})